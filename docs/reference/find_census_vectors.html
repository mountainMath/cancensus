<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors • cancensus</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors" />
<meta property="og:description" content="Query the available list of Census vectors based on their label and return
details including vector code. Default search behaviour expects an exact match, but
keyword or semantic searches can be used instead by setting query_type='keyword' or
query_type = 'semantic' instead. Keyword search is useful when looking to explore
Census vectors based on broad themes like &quot;income&quot; or &quot;language&quot;. Keyword search seperates
the query into unigrams and returns Census vectors with matching words, ranked by incidence
of matches. Semantic search is designed for more precise searches while allowing room for error
for spelling or phrasing, as well as for finding closely related vector matches. Semantic search
separates the query into n-grams and relies on string distance measurement using a generalized
Levenshtein distance approach.
Some census vectors return population counts segmented by Female and Male populations, in
addition to a total aggregate. By default, query matches will return matches for the Total
aggregation, but can optionally return only the Female or Male aggregations by adding
type = 'female' or type = 'male' as a parameter." />
<meta property="og:image" content="https://mountainmath.github.io/cancensus/logo.png" />
<meta property="og:image:alt" content="cancensus" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@vb_jens" />
<meta name="twitter:site" content="https://mountainmath.github.io/cancensus/" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107390160-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-107390160-3');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cancensus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/cancensus.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mountainMath/cancensus/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Query the CensusMapper API for vectors using exact, semantic, or keyword search</h1>
    <small class="dont-index">Source: <a href='https://github.com/mountainMath/cancensus/blob/master/R/vector_discovery.R'><code>R/vector_discovery.R</code></a></small>
    <div class="hidden name"><code>find_census_vectors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Query the available list of Census vectors based on their label and return
details including vector code. Default search behaviour expects an exact match, but
keyword or semantic searches can be used instead by setting <code>query_type='keyword'</code> or
<code>query_type = 'semantic'</code> instead. Keyword search is useful when looking to explore
Census vectors based on broad themes like "income" or "language". Keyword search seperates
the query into unigrams and returns Census vectors with matching words, ranked by incidence
of matches. Semantic search is designed for more precise searches while allowing room for error
for spelling or phrasing, as well as for finding closely related vector matches. Semantic search
separates the query into n-grams and relies on string distance measurement using a generalized
Levenshtein distance approach.</p>
<p>Some census vectors return population counts segmented by <code>Female</code> and <code>Male</code> populations, in
addition to a total aggregate. By default, query matches will return matches for the <code>Total</code>
aggregation, but can optionally return only the <code>Female</code> or <code>Male</code> aggregations by adding
<code>type = 'female'</code> or <code>type = 'male'</code> as a parameter.</p>
    </div>

    <pre class="usage"><span class='fu'>find_census_vectors</span>(<span class='no'>query</span>, <span class='no'>dataset</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"all"</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>"exact"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>query</th>
      <td><p>The term or phrase to search for e.g. <code>'Oji-cree'</code>.
Search queries are case insensitive.</p></td>
    </tr>
    <tr>
      <th>dataset</th>
      <td><p>The dataset to query for available vectors, e.g. <code>'CA16'</code>.
To see a list of available datasets: <code><a href='list_census_datasets.html'>list_census_datasets()</a></code></p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>One of <code>'all'</code>, <code>'total'</code>, <code>'male'</code> or <code>'female'</code>.
If specified, only return aggregations of specified `type`. By default, only
the <code>'total'</code> aggregation will be returned.</p></td>
    </tr>
    <tr>
      <th>query_type</th>
      <td><p>One of <code>exact</code>, <code>'semantic'</code> or <code>'keyword'</code>.
By default, assumes exact string matching, but the alternatives may be better
options in some cases. See description section for more details on query types.</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>find_census_vectors</span>(<span class='st'>'Oji-cree'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA16'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'total'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>'exact'</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 4 x 4</span><span>
#&gt;   vector     type  label   details                                              
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                                                
#&gt; </span><span style='color: #555555;'>1</span><span> v_CA16_626 Total Oji-Cr… Language; Total - Mother tongue for the total popula…
#&gt; </span><span style='color: #555555;'>2</span><span> v_CA16_14… Total Oji-Cr… Language; Total - Language spoken most often at home…
#&gt; </span><span style='color: #555555;'>3</span><span> v_CA16_26… Total Oji-Cr… 25% Data; Total - Knowledge of languages for the pop…
#&gt; </span><span style='color: #555555;'>4</span><span> v_CA16_59… Total Oji-Cr… 25% Data; Work; Total - Language used most often at …</div><div class='input'>
<span class='fu'>find_census_vectors</span>(<span class='st'>'commuting duration'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA11'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'female'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>'keyword'</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 2 x 4</span><span>
#&gt;   vector    type  label                          details                        
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                          </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                          
#&gt; </span><span style='color: #555555;'>1</span><span> v_CA11N_… Fema… Total employed population age… CA 2011 NHS; Commute; Total em…
#&gt; </span><span style='color: #555555;'>2</span><span> v_CA11N_… Fema… Median commuting duration      CA 2011 NHS; Commute; Total em…</div><div class='input'>
<span class='fu'>find_census_vectors</span>(<span class='st'>'after tax income'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA16'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'total'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>'semantic'</span>)</div><div class='output co'>#&gt; <span class='message'>Multiple possible matches. Results ordered by closeness.</span></div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 56 x 4</span><span>
#&gt;    vector   type  label                          details                        
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                          </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                          
#&gt; </span><span style='color: #555555;'> 1</span><span> v_CA16_… Total Number of after-tax income re… Income; Individuals; Total - I…
#&gt; </span><span style='color: #555555;'> 2</span><span> v_CA16_… Total Median after-tax income in 20… Income; Individuals; Total - I…
#&gt; </span><span style='color: #555555;'> 3</span><span> v_CA16_… Total Percentage with after-tax inc… Income; Individuals; Total - I…
#&gt; </span><span style='color: #555555;'> 4</span><span> v_CA16_… Total Total - After-tax income grou… Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'> 5</span><span> v_CA16_… Total Without after-tax income       Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'> 6</span><span> v_CA16_… Total With after-tax income          Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'> 7</span><span> v_CA16_… Total Under $10,000 (including loss) Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'> 8</span><span> v_CA16_… Total $10,000 to $19,999             Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'> 9</span><span> v_CA16_… Total $20,000 to $29,999             Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'>10</span><span> v_CA16_… Total $30,000 to $39,999             Income; Individuals; Total - A…
#&gt; </span><span style='color: #555555;'># … with 46 more rows</span><span></div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># This incorrect spelling will return a warning that no match was found,</span>
<span class='co'># but will suggest trying semantic or keyword search.</span>
<span class='fu'>find_census_vectors</span>(<span class='st'>'Ojibwey'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA16'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'total'</span>)

<span class='co'># This will find near matches as well</span>
<span class='fu'>find_census_vectors</span>(<span class='st'>'Ojibwey'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA16'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'total'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>"semantic"</span>)

<span class='fu'>find_census_vectors</span>(<span class='st'>'commute duration'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA16'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'female'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>'keyword'</span>)

<span class='fu'>find_census_vectors</span>(<span class='st'>'commute duration'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA11'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'all'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>'keyword'</span>)

<span class='fu'>find_census_vectors</span>(<span class='st'>'ukrainian origin'</span>, <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='st'>'CA16'</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'total'</span>, <span class='kw'>query_type</span> <span class='kw'>=</span> <span class='st'>'keyword'</span>)

}</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://mountainmath.ca'>Jens von Bergmann</a>, <a href='https://dshkol.com'>Dmitry Shkolnik</a>, Aaron Jacobs.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


