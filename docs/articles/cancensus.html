<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>cancensus • cancensus</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="cancensus">
<meta property="og:description" content="cancensus">
<meta property="og:image" content="https://mountainmath.github.io/cancensus/logo.png">
<meta property="og:image:alt" content="cancensus">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@vb_jens">
<meta name="twitter:site" content="https://mountainmath.github.io/cancensus/">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-107390160-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-107390160-3');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cancensus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/cancensus.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Making_maps_with_cancensus.html">Making maps with cancensus</a>
    </li>
    <li>
      <a href="../articles/data_discovery.html">Data discovery</a>
    </li>
    <li>
      <a href="../articles/intersecting_geometries.html">Finding intersecting geometries from custom data</a>
    </li>
    <li>
      <a href="../articles/Dwellings_by_document_type_cross_tabulation.html">Additional datasets: Structural type of dwelling by document type</a>
    </li>
    <li>
      <a href="../articles/Taxfiler_Data.html">Additional datasets: Annual T1FF taxfiler data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mountainMath/cancensus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>cancensus</h1>
                        <h4 data-toc-skip class="author"></h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mountainMath/cancensus/blob/HEAD/vignettes/cancensus.Rmd" class="external-link"><code>vignettes/cancensus.Rmd</code></a></small>
      <div class="hidden name"><code>cancensus.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="cancensus-and-censusmapper">Cancensus and CensusMapper<a class="anchor" aria-label="anchor" href="#cancensus-and-censusmapper"></a>
</h2>
<p>The <strong>cancensus</strong> package was developed to provide users
with a way to access Canadian Census in a programmatic way following
good <a href="http://vita.had.co.nz/papers/tidy-data.pdf" class="external-link">tidy data</a>
practices. While the structure and data in <strong>cancensus</strong> is
unique to Canadian Census data, this package is inspired in part by <a href="https://github.com/walkerke/tidycensus" class="external-link">tidycensus</a>, a package
to interface with the US Census Bureau data APIs.</p>
<p>As Statistics Canada does not provide direct API access to Census
data, <strong>cancensus</strong> retrieves Census data indirectly
through the <a href="https://censusmapper.ca" class="external-link">CensusMapper</a> API.
CensusMapper is a project by <a href="https://github.com/mountainMath" class="external-link">Jens von Bergmann</a>, one of the
authors of <strong>cancensus</strong>, to provide interactive geographic
visualizations of Canadian Census data. CensusMapper databases store all
publicly available data from Statistics Canada for the 2006, 2011, and
2016 Censuses. Censusmapper data can be accessed via an API and
<strong>cancensus</strong> is built to interface directly with it.</p>
<div class="section level3">
<h3 id="api-key">API Key<a class="anchor" aria-label="anchor" href="#api-key"></a>
</h3>
<p><strong>cancensus</strong> requires a valid CensusMapper API key to
use. You can obtain a free API key by <a href="https://censusmapper.ca/users/sign_up" class="external-link">signing up</a> for a
CensusMapper account. CensusMapper API keys are free and public API
quotas are generous; however, due to incremental costs of serving large
quantities of data, there limits to API usage in place. For most use
cases, these API limits should not be an issue. Production uses with
large extracts of fine grained geographies may run into API quota
limits. For larger quotas, please get in touch with Jens <a href="mailto:jens@censusmapper.ca">directly</a>.</p>
<p>To check your API key, just go to “Edit Profile” (in the top-right of
the CensusMapper menu bar). Once you have your key, you can store it in
your system environment so it is automatically used in API calls. To do
so just enter
<code>set_api_key(&lt;your_api_key&gt;, install = TRUE)</code></p>
</div>
<div class="section level3">
<h3 id="installing-cancensus">Installing cancensus<a class="anchor" aria-label="anchor" href="#installing-cancensus"></a>
</h3>
<p>The stable version of <strong>cancensus</strong> can be easily
installed from CRAN.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"cancensus"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mountainMath/cancensus" class="external-link">cancensus</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cancensus.api_key <span class="op">=</span> <span class="st">"your_api_key"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cancensus.cache_path <span class="op">=</span> <span class="st">"custom cache path"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, the latest development version can be installed from
Github using <code>devtools</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"mountainmath/cancensus"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mountainMath/cancensus" class="external-link">cancensus</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cancensus.api_key <span class="op">=</span> <span class="st">"your_api_key"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cancensus.cache_path <span class="op">=</span> <span class="st">"custom cache path"</span><span class="op">)</span></span></code></pre></div>
<p>For performance reasons, and to avoid unnecessarily drawing down API
quotas, <strong>cancensus</strong> caches data queries under the hood.
By default, <strong>cancensus</strong> caches in R’s temporary
directory, but this cache is not persistent across sessions. In order to
speed up performance, reduce quota usage, and reduce the need for
unnecessary network calls, we recommend assigning a persistent local
cache using
<code>set_cache_path(&lt;local cache path&gt;, install = TRUE)</code>,
this enables more efficient loading and reuse of downloaded data.. Users
will be prompted with a suggestion to change their default cache
location when making API calls if one has not been set yet.</p>
</div>
</div>
<div class="section level2">
<h2 id="accessing-census-data">Accessing Census Data<a class="anchor" aria-label="anchor" href="#accessing-census-data"></a>
</h2>
<p><strong>cancensus</strong> provides three different functions for
retrieving Census data: * <code>get_census</code> to retrieve Census
data and geography as a spatial dataset * <code>get_census_data</code>
to retrieve Census data only as a flat data frame *
<code>get_census_geometry</code> to retrieve Census geography only as a
collection of spatial polygons.</p>
<p><code>get_census</code> takes as inputs a dataset parameter, a list
of specified regions, a vector of Census variables, and a Census
geography level. You can specify one of three options for spatial
formats: <code>NA</code> to return data only, <code>sf</code> to return
an sf-class data frame, or <code>sp</code> to return a
SpatialPolygonsDataFrame object.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Returns a data frame with data only</span></span>
<span><span class="va">census_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_census.html">get_census</a></span><span class="op">(</span>dataset<span class="op">=</span><span class="st">'CA21'</span>, regions<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>CMA<span class="op">=</span><span class="st">"59933"</span><span class="op">)</span>,</span>
<span>                          vectors<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v_CA21_434"</span>,<span class="st">"v_CA21_435"</span>,<span class="st">"v_CA21_440"</span><span class="op">)</span>,</span>
<span>                          level<span class="op">=</span><span class="st">'CSD'</span>, use_cache <span class="op">=</span> <span class="cn">FALSE</span>, geo_format <span class="op">=</span> <span class="cn">NA</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Returns data and geography as an sf-class data frame</span></span>
<span><span class="va">census_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_census.html">get_census</a></span><span class="op">(</span>dataset<span class="op">=</span><span class="st">'CA21'</span>, regions<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>CMA<span class="op">=</span><span class="st">"59933"</span><span class="op">)</span>,</span>
<span>                          vectors<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v_CA21_434"</span>,<span class="st">"v_CA21_435"</span>,<span class="st">"v_CA21_440"</span><span class="op">)</span>,</span>
<span>                          level<span class="op">=</span><span class="st">'CSD'</span>, use_cache <span class="op">=</span> <span class="cn">FALSE</span>, geo_format <span class="op">=</span> <span class="st">'sf'</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Returns a SpatialPolygonsDataFrame object with data and geography</span></span>
<span><span class="va">census_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_census.html">get_census</a></span><span class="op">(</span>dataset<span class="op">=</span><span class="st">'CA21'</span>, regions<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>CMA<span class="op">=</span><span class="st">"59933"</span><span class="op">)</span>,</span>
<span>                          vectors<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v_CA21_434"</span>,<span class="st">"v_CA21_435"</span>,<span class="st">"v_CA21_440"</span><span class="op">)</span>,</span>
<span>                          level<span class="op">=</span><span class="st">'CSD'</span>, use_cache <span class="op">=</span> <span class="cn">FALSE</span>, geo_format <span class="op">=</span> <span class="st">'sp'</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><strong>cancensus</strong> utilizes caching to increase speed,
minimize API token usage, and to make data available offline. Downloaded
data is hashed and stored locally so if a call is made to access the
same data, <strong>cancensus</strong> will read the local version
instead. To force <strong>cancensus</strong> to refresh the data,
specify <code>use_cache = FALSE</code> as a parameter for
<code>get_census</code>.</p>
<p>Additional parameters for advanced options can be viewed by running
<code><a href="../reference/get_census.html">?get_census</a></code>.</p>
<div class="section level3">
<h3 id="census-datasets">Census Datasets<a class="anchor" aria-label="anchor" href="#census-datasets"></a>
</h3>
<p><strong>cancensus</strong> can access Statistics Canada Census data
for Census years 1996, 2001, 2006, 2011, and 2016 . You can run
<code>list_census_datasets</code> to check what datasets are currently
available for access through the CensusMapper API. Additional data for
the 2016 Census will be included in Censusmapper within a day or two
after public release by Statistics Canada. Statistics Canada maintains a
release schedule for the Census 2016 Program which can be viewed on
their <a href="http://www12.statcan.gc.ca/census-recensement/2016/ref/release-dates-diffusion-eng.cfm" class="external-link">website</a>.</p>
<p>Thanks to contributions by the Canada Mortgage and Housing
Corporation (CMHC), <strong>cancensus</strong> now includes additional
Census-linked datasets as open-data releases. These include annual
taxfiler data at the census tract level for tax years 2000 through 2017,
which includes data on incomes and demographics, as well as specialized
crosstabs for Structural type of dwelling by Document type, which
details occupancy status for residences. These crosstabs are available
for the 2001, 2006, 2011, and 2016 Census years at all levels starting
with census tract.</p>
<p>The function <code><a href="../reference/list_census_datasets.html">list_census_datasets()</a></code> will show all
available datasets alongside their metadata.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_census_datasets.html">list_census_datasets</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 29 × 6</span></span></span>
<span><span class="co">#&gt;    dataset description                           geo_d…¹ attri…² refer…³ refer…⁴</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> CA1996  1996 Canada Census                    CA1996  StatCa… 92-351… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> CA01    2001 Canada Census                    CA01    StatCa… 92-378… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> CA06    2006 Canada Census                    CA06    StatCa… 92-566… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> CA11    2011 Canada Census and NHS            CA11    StatCa… 98-301… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> CA16    2016 Canada Census                    CA16    StatCa… 98-301… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> CA21    2021 Canada Census                    CA21    StatCa… 98-301… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> CA01xSD 2001 Canada Census xtab - Structural… CA01    StatCa… 92-378… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> CA06xSD 2006 Canada Census xtab - Structural… CA06    StatCa… 92-566… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> CA11xSD 2011 Canada Census xtab - Structural… CA11    StatCa… 98-301… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> CA16xSD 2016 Canada Census xtab - Structural… CA16    StatCa… 98-301… https:…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 19 more rows, and abbreviated variable names ¹​geo_dataset,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​attribution, ³​reference, ⁴​reference_url</span></span></span></code></pre></div>
<p>As other Census datasets become available via the CensusMapper API,
they will be listed as output when calling
<code><a href="../reference/list_census_datasets.html">list_census_datasets()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="census-regions">Census Regions<a class="anchor" aria-label="anchor" href="#census-regions"></a>
</h3>
<p>Census data is aggregated at multiple <a href="#id_##%20Census%20Geographic%20Levels">geographic levels</a>.
Census geographies at the national (C), provincial (PR), census
metropolitan area (CMA), census agglomeration (CA), census division
(CD), and census subdivision (CSD) are defined as named census
regions.</p>
<p>Canadian Census geography can change in between Census periods.
<strong>cancensus</strong> provides a function,
<code>list_census_regions(dataset)</code>, to display all named census
regions and their corresponding id for a given census dataset.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_census_regions.html">list_census_regions</a></span><span class="op">(</span><span class="st">"CA21"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,518 × 8</span></span></span>
<span><span class="co">#&gt;    region name                      level      pop munic…¹ CMA_UID CD_UID PR_UID</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 01     Canada                    C     36<span style="text-decoration: underline;">991</span>981 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 35     Ontario                   PR    14<span style="text-decoration: underline;">223</span>942 Ont.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 24     Quebec                    PR     8<span style="text-decoration: underline;">501</span>833 Que.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 59     British Columbia          PR     5<span style="text-decoration: underline;">000</span>879 B.C.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 48     Alberta                   PR     4<span style="text-decoration: underline;">262</span>635 Alta.   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 46     Manitoba                  PR     1<span style="text-decoration: underline;">342</span>153 Man.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 47     Saskatchewan              PR     1<span style="text-decoration: underline;">132</span>505 Sask.   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 12     Nova Scotia               PR      <span style="text-decoration: underline;">969</span>383 N.S.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 13     New Brunswick             PR      <span style="text-decoration: underline;">775</span>610 N.B.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 10     Newfoundland and Labrador PR      <span style="text-decoration: underline;">510</span>550 N.L.    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 5,508 more rows, and abbreviated variable name ¹​municipal_status</span></span></span></code></pre></div>
<p>The <code>regions</code> parameter in <code>get_census</code>
requires as input a list of region id strings that correspond to that
regions geoid. You can combine different regions together into region
lists.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieves Vancouver and Toronto</span></span>
<span><span class="fu"><a href="../reference/list_census_regions.html">list_census_regions</a></span><span class="op">(</span><span class="st">'CA21'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">level</span> <span class="op">==</span> <span class="st">"CMA"</span>, <span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Vancouver"</span>,<span class="st">"Toronto"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 8</span></span></span>
<span><span class="co">#&gt;   region name      level     pop municipal_status CMA_UID CD_UID PR_UID</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 35535  Toronto   CMA   6<span style="text-decoration: underline;">202</span>225 B                <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     35    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 59933  Vancouver CMA   2<span style="text-decoration: underline;">642</span>825 B                <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     59</span></span>
<span></span>
<span><span class="va">census_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_census.html">get_census</a></span><span class="op">(</span>dataset<span class="op">=</span><span class="st">'CA21'</span>, regions<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>CMA<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"59933"</span>,<span class="st">"35535"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                          vectors<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v_CA21_434"</span>,<span class="st">"v_CA21_435"</span>,<span class="st">"v_CA21_440"</span><span class="op">)</span>,</span>
<span>                          level<span class="op">=</span><span class="st">'CSD'</span>, use_cache <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="census-geographic-levels">Census Geographic Levels<a class="anchor" aria-label="anchor" href="#census-geographic-levels"></a>
</h3>
<p>Census data accessible through <strong>cancensus</strong> comes is
available in a number of different aggregation levels including:</p>
<table class="table">
<thead><tr class="header">
<th>Code</th>
<th>Description</th>
<th align="center">Count in Census 2016</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>C</td>
<td>Canada (total)</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td>PR</td>
<td>Provinces/Territories</td>
<td align="center">13</td>
</tr>
<tr class="odd">
<td>CMA</td>
<td>Census Metropolitan Area</td>
<td align="center">35</td>
</tr>
<tr class="even">
<td>CA</td>
<td>Census Agglomeration</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td>CD</td>
<td>Census Division</td>
<td align="center">287</td>
</tr>
<tr class="even">
<td>CSD</td>
<td>Census Subdivision</td>
<td align="center">713</td>
</tr>
<tr class="odd">
<td>CT</td>
<td>Census Tracts</td>
<td align="center">5621</td>
</tr>
<tr class="even">
<td>DA</td>
<td>Dissemination Area</td>
<td align="center">56589</td>
</tr>
<tr class="odd">
<td>EA</td>
<td>Enumeration Area (1996 only)</td>
<td align="center">-</td>
</tr>
<tr class="even">
<td>DB</td>
<td>Dissemination Block (2001-2016)</td>
<td align="center">489676</td>
</tr>
<tr class="odd">
<td>Regions</td>
<td>Named Census Region</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>Selecting <code>regions = "59933"</code> and
<code>level = "CT"</code> will return data for all 478 census tracts in
the Vancouver Census Metropolitan Area. Selecting
<code>level = "DA"</code> will return data for all 3450 dissemination
areas and selecting <code>level = "DB"</code> will retrieve data for
15,197 dissemination block. Working with CT, DA, EA, and especially DB
level data significantly increases the size of data downloads and API
usage. To help minimize additional overhead, <strong>cancensus</strong>
supports local data caching to reduce usage and load times.</p>
<p>Setting <code>level = "Regions"</code> will produce data strictly for
the selected region without any tiling of data at lower census
aggregation levels levels.</p>
</div>
</div>
<div class="section level2">
<h2 id="working-with-census-variables">Working with Census Variables<a class="anchor" aria-label="anchor" href="#working-with-census-variables"></a>
</h2>
<p>Census data contains thousands of different geographic regions as
well as thousands of unique variables. In addition to enabling
programmatic and reproducible access to Census data,
<strong>cancensus</strong> has a number of tools to help users find the
data they are looking for.</p>
<div class="section level3">
<h3 id="displaying-available-census-variables">Displaying available Census variables<a class="anchor" aria-label="anchor" href="#displaying-available-census-variables"></a>
</h3>
<p>Run <code>list_census_vectors(dataset)</code> to view all available
Census variables for a given dataset.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_census_vectors.html">list_census_vectors</a></span><span class="op">(</span><span class="st">"CA21"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,756 × 7</span></span></span>
<span><span class="co">#&gt;    vector    type   label                          units paren…¹ aggre…² details</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> v_CA21_1  Total  Population, 2021               Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> v_CA21_2  Total  Population, 2016               Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> v_CA21_3  Total  Population percentage change,… Numb… <span style="color: #BB0000;">NA</span>      Averag… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> v_CA21_4  Total  Total private dwellings        Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> v_CA21_5  Total  Private dwellings occupied by… Numb… v_CA21… Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> v_CA21_6  Total  Population density per square… Ratio <span style="color: #BB0000;">NA</span>      Averag… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> v_CA21_7  Total  Land area in square kilometres Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> v_CA21_8  Total  Total - Age                    Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> v_CA21_9  Male   Total - Age                    Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> v_CA21_10 Female Total - Age                    Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 202…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 5,746 more rows, and abbreviated variable names ¹​parent_vector,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​aggregation</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="variable-characteristics">Variable characteristics<a class="anchor" aria-label="anchor" href="#variable-characteristics"></a>
</h3>
<p>For each variable (vector) in that Census dataset, this shows:</p>
<ul>
<li>Vector: short variable code</li>
<li>Type: variables are provided as aggregates of female responses, male
responses, or total (male+female) responses</li>
<li>Label: detailed variable name</li>
<li>Units: provides information about whether the variable represents a
count integer, a ratio, a percentage, or a currency figure</li>
<li>Parent_vector: shows the immediate hierarchical parent category for
that variable, where appropriate</li>
<li>Aggregation: indicates how the variable should be aggregated with
others, whether it is additive or if it is an average of another
variable</li>
<li>Description: a rough description of a variable based on its
hierarchical structure. This is constructed by
<strong>cancensus</strong> by recursively traversing the labels for
every variable’s hierarchy, and facilitates searching for specific
variables using key terms.</li>
</ul>
</div>
<div class="section level3">
<h3 id="variable-search">Variable search<a class="anchor" aria-label="anchor" href="#variable-search"></a>
</h3>
<p>Each Census dataset features numerous variables making it a bit of a
challenge to find the exact variable you are looking for. There is a
function, <code><a href="../reference/find_census_vectors.html">find_census_vectors()</a></code>, for searching through
Census variable metadata in a few different ways. There are three types
of searches possible using this function: exact search, which simply
looks for exact string matches for a given query against the vector
dataset; keyword search, which breaks vector metadata into unigram
tokens and then tries to find the vectors with the greatest number of
unique matches; and, semantic search which works better with search
phrases and has tolerance for inexact searches. Switching between search
modes is done using the <code>query_type</code> argument when calling
<code>find_census_variables()</code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find the variable indicating the number of people of Austrian ethnic origin</span></span>
<span><span class="fu"><a href="../reference/find_census_vectors.html">find_census_vectors</a></span><span class="op">(</span><span class="st">"Australia"</span>, dataset <span class="op">=</span> <span class="st">"CA16"</span>, type <span class="op">=</span> <span class="st">"total"</span>, query_type <span class="op">=</span> <span class="st">"exact"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 4</span></span></span>
<span><span class="co">#&gt;   vector      type  label      details                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> v_CA16_3813 Total Australia  25% Data; Citizenship and Immigration; Total - S…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> v_CA16_4809 Total Australian 25% Data; Minority / Origin; Total - Ethnic orig…</span></span>
<span></span>
<span><span class="fu"><a href="../reference/find_census_vectors.html">find_census_vectors</a></span><span class="op">(</span><span class="st">"Australia origin"</span>, dataset <span class="op">=</span> <span class="st">"CA16"</span>, type <span class="op">=</span> <span class="st">"total"</span>, query_type <span class="op">=</span> <span class="st">"semantic"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">#&gt;   vector      type  label      details                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> v_CA16_4809 Total Australian 25% Data; Minority / Origin; Total - Ethnic orig…</span></span>
<span></span>
<span><span class="fu"><a href="../reference/find_census_vectors.html">find_census_vectors</a></span><span class="op">(</span><span class="st">"Australian ethnic"</span>, dataset <span class="op">=</span> <span class="st">"CA16"</span>, type <span class="op">=</span> <span class="st">"total"</span>, query_type <span class="op">=</span> <span class="st">"keyword"</span>, interactive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">#&gt;   vector      type  label      details                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> v_CA16_4809 Total Australian 25% Data; Minority / Origin; Total - Ethnic orig…</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="managing-variable-hierarchy">Managing variable hierarchy<a class="anchor" aria-label="anchor" href="#managing-variable-hierarchy"></a>
</h3>
<p>Census variables are frequently hierarchical. As an example, consider
the variable for the number of people of Austrian ethnic background. We
can select that vector and quickly look up its entire hierarchy using
<code>parent_census_vectors</code> on a vector list.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_census_vectors.html">list_census_vectors</a></span><span class="op">(</span><span class="st">"CA16"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">vector</span> <span class="op">==</span> <span class="st">"v_CA16_4092"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/parent_census_vectors.html">parent_census_vectors</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 7</span></span></span>
<span><span class="co">#&gt;   vector      type  label                          units paren…¹ aggre…² details</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> v_CA16_4089 Total Western European origins (exc… Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> v_CA16_4044 Total European origins               Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> v_CA16_3999 Total Total - Ethnic origin for the… Numb… <span style="color: #BB0000;">NA</span>      Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​parent_vector, ²​aggregation</span></span></span></code></pre></div>
<p>Sometimes we want to traverse the hierarchy in the opposite
direction. This is frequently required when looking to compare different
variable stems that share the same aggregate variable. As an example, if
we want to look the total count of Northern European ethnic origin
respondents disaggregated by individual countries, it is pretty easy to
do so.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find the variable indicating the Northern European aggregate</span></span>
<span><span class="fu"><a href="../reference/find_census_vectors.html">find_census_vectors</a></span><span class="op">(</span><span class="st">"Northern European"</span>, dataset <span class="op">=</span> <span class="st">"CA16"</span>, type <span class="op">=</span> <span class="st">"Total"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 4</span></span></span>
<span><span class="co">#&gt;   vector      type  label                                                details</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> v_CA16_4122 Total Northern European origins (except British Isles ori… 25% Da…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> v_CA16_4125 Total Danish                                               25% Da…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> v_CA16_4128 Total Finnish                                              25% Da…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> v_CA16_4131 Total Icelandic                                            25% Da…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> v_CA16_4134 Total Norwegian                                            25% Da…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> v_CA16_4137 Total Swedish                                              25% Da…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> v_CA16_4140 Total Northern European origins, n.i.e.                    25% Da…</span></span></code></pre></div>
<p>The search result shows that the vector <strong>v_CA16_4092</strong>
represents the aggregate for all Northern European origins. The
<code>child_census_vectors</code> function can return a list of its
constituent underlying variables.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Show all child variable leaves</span></span>
<span><span class="fu"><a href="../reference/list_census_vectors.html">list_census_vectors</a></span><span class="op">(</span><span class="st">"CA16"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">vector</span> <span class="op">==</span> <span class="st">"v_CA16_4122"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/child_census_vectors.html">child_census_vectors</a></span><span class="op">(</span>leaves <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   vector      type  label                          units paren…¹ aggre…² details</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> v_CA16_4125 Total Danish                         Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> v_CA16_4128 Total Finnish                        Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> v_CA16_4131 Total Icelandic                      Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> v_CA16_4134 Total Norwegian                      Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> v_CA16_4137 Total Swedish                        Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> v_CA16_4140 Total Northern European origins, n.… Numb… v_CA16… Additi… CA 201…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​parent_vector, ²​aggregation</span></span></span></code></pre></div>
<p>The <code>leaves = TRUE</code> parameter specifies whether
intermediate aggregates are included or not. If <code>TRUE</code> then
only the lowest level variables are returns - the “leaves” of the
hierarchical tree.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://mountainmath.ca" class="external-link">Jens von Bergmann</a>, <a href="https://dshkol.com" class="external-link">Dmitry Shkolnik</a>, Aaron Jacobs.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
