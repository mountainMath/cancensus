[{"path":"https://mountainmath.github.io/cancensus/articles/Dwellings_by_document_type_cross_tabulation.html","id":"background","dir":"Articles","previous_headings":"","what":"Background","title":"Additional datasets: Structural type of dwelling by document type","text":"collaboration Canadian Mortgage Housing Corporation (CMHC), CensusMapper added open-sourced special cross-tabulation Structural Type Dwelling Document Type Census Tract level census years 2001, 2006, 2011 2016. Structural Type Dwelling common census variable describes type structure dwelling unit . Document Type less frequently used variable classifies whether census determined dwelling either: occupied usual residents (also known household); occupied temporarily present persons; , unoccupied. cross-tabulation information structural type entire building stock, just occupied dwelling units. useful trying understand built-fabric urban environments. example, look structure dwelling stock City Toronto 2016.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/Dwellings_by_document_type_cross_tabulation.html","id":"example-usage-buildings-unoccupied-vs-not-occupied-by-usual-residents","dir":"Articles","previous_headings":"","what":"Example usage: buildings unoccupied vs not occupied by usual residents","title":"Additional datasets: Structural type of dwelling by document type","text":"Dwellings registered unoccupied Census day capture imagination many, although people often mistakenly pull data dwellings occupied usual residents easily available standard Census profile data. advantage custom cross-tabulation allows researchers zoom dwellings classified unoccupied enumerator Census day additional detail. example, want retrieve custom structural dwelling cross-tab 2016 Census year code CA16xSD Toronto Census subdivision standard Statistics Canada region code 3520005. background searching Census geographical regions, see ?list_census_regions() Get started cancensus vignette. named vector labels census variables query. visualize looks like bar chart:  regular Census data, data can retrieved spatial data. Sometimes ’s easier use CensusMapper API interface search select variables interested . explore_census_vectors() function opens browser variable selection tool, determine “v_CA16xSD_1” “v_CA16xSD_28” variables enumerating dwellings unoccupied dwellings, respectively.","code":"# Packages used in this example library(cancensus) library(dplyr) library(tidyr) library(ggplot2) # Attribution for the dataset to be used in graphs attribution <- dataset_attribution(\"CA16xSD\")  # Select all variables base variables, this gives us total counts by structural type of dwelling vars <- list_census_vectors(\"CA16xSD\") %>%    filter(is.na(parent_vector)) variables <- setNames(vars$vector,vars$label)  variables #>                                          Total dwellings  #>                                            \"v_CA16xSD_1\"  #>                                    Single-detached house  #>                                            \"v_CA16xSD_2\"  #>                                      Semi-detached house  #>                                            \"v_CA16xSD_3\"  #>                                                Row house  #>                                            \"v_CA16xSD_4\"  #>                            Apartment or flat in a duplex  #>                                            \"v_CA16xSD_5\"  #> Apartment in a building that has fewer than five storeys  #>                                            \"v_CA16xSD_6\"  #>    Apartment in a building that has five or more storeys  #>                                            \"v_CA16xSD_7\"  #>                              Other single-attached house  #>                                            \"v_CA16xSD_8\"  #>                                         Movable dwelling  #>                                            \"v_CA16xSD_9\" # Separate out the individual dwelling types dwelling_types <- setdiff(names(variables),\"Total dwellings\")  # Grab the census data and compute shares for each dwelling type census_data <- get_census(\"CA16xSD\",regions=list(CSD=\"3520005\"), vectors = variables, quiet = TRUE) %>%   pivot_longer(cols = all_of(dwelling_types)) %>%   mutate(share=value/`Total dwellings`) ggplot(census_data,aes(x=reorder(name,share),y=share)) +   geom_bar(stat=\"identity\",fill=\"steelblue\") +   coord_flip() +   scale_y_continuous(labels=scales::percent) +   labs(title=\"City of Toronto dwelling units by structural type\",        x=NULL,y=NULL,caption=attribution) # Use explore_census_vectors() to browse and select variables of interest vars <- c(Total=\"v_CA16xSD_1\", Unoccupied=\"v_CA16xSD_28\")  # Retrieve data with attached geography census_data <- get_census(\"CA16xSD\",regions=list(CSD=\"3520005\"), level=\"CT\", quiet = TRUE, geo_format = \"sf\",                           vectors = vars,use_cache = FALSE) %>%   mutate(share=Unoccupied/Total)  # Visualize ggplot(census_data,aes(fill=share)) +   geom_sf(size=0.1) +   scale_fill_viridis_c(labels=scales::percent) +   coord_sf(datum=NA) +   labs(title=\"City of Toronto dwellings unoccupied on census day\",        fill=\"Share\",        x=NULL,y=NULL,caption=attribution)"},{"path":"https://mountainmath.github.io/cancensus/articles/Making_maps_with_cancensus.html","id":"spatial-data-in-cancensus","dir":"Articles","previous_headings":"","what":"Spatial data in cancensus","title":"Making maps with cancensus","text":"cancensus can retrieve spatial data either packaged together Census data. can specify whether want data returned sf-class data frame sp-class SpatialPolygonsDataFrame object. advantages spatial format. sf spatial framework development new principal spatial library R takes advantage Simple Features standard. hand, sp around long time development starting early 2000s , result, robust well-maintained package large ecosystem specialized packages rely . First released October 2016, sf package still development can buggy prone breaking. cancensus retrieves Census geographic data GeoJSON objects converts either sp sf objects depending geo_format parameter input. examples vignette assume sf class geography.","code":"library(cancensus) library(sf) # retrieve sf dataframe toronto <- get_census(dataset='CA21', regions=list(CMA=\"35535\"),                          vectors=c(\"median_hh_income\"=\"v_CA21_906\"), level='CSD', quiet = TRUE,                           geo_format = 'sf', labels = 'short')"},{"path":"https://mountainmath.github.io/cancensus/articles/Making_maps_with_cancensus.html","id":"maps-with-base-r-graphics","dir":"Articles","previous_headings":"","what":"Maps with base R graphics","title":"Making maps with cancensus","text":"sf package provides wrapper around base R plot() function largely works way custom graphical parameters. One key thing sf.plot() plot every column sf data frame separately unless specify particular column. case, household income variable selected stored v_CA16_2397 column. Plotting easy.  can specify titles, colour palettes, breaks, background colour, lines, borders, transparency, graticules, much taking advantage available parameters. can also combine layers graphics objects made plot() running different plots adding add = TRUE parameter.","code":"plot(toronto[\"median_hh_income\"], main = \"Toronto Household Income by CSD in 2020\") plot(st_geometry(toronto), col = NA, main = \"Toronto CSDs with Median HH Income > $125,000 in 2020\", lty = 3) plot(st_geometry(toronto[toronto$median_hh_income > 125000,]), col = \"red\", add = TRUE)"},{"path":"https://mountainmath.github.io/cancensus/articles/Making_maps_with_cancensus.html","id":"maps-with-ggplot2","dir":"Articles","previous_headings":"","what":"Maps with ggplot2","title":"Making maps with cancensus","text":"Plotting sf objects ggplot2 straightforward built-geom_sf layer latest version ggplot2. ggplot2 supports types simple features can automatically read align CRS across multiple layers, can automatically adjust aspect ratio, automatically draw graticule map. advantage using ggplot2 static maps customization flexibility offered ggplot2 layer geom system. example basic map.  similar map trimmings:","code":"library(ggplot2) ggplot(toronto) + geom_sf(aes(fill = median_hh_income)) ggplot(toronto) + geom_sf(aes(fill = median_hh_income), colour = \"grey\") +   scale_fill_viridis_c(\"Median HH Income\", labels = scales::dollar) + theme_minimal() +   theme(panel.grid = element_blank(),         axis.text = element_blank(),         axis.ticks = element_blank()) +    coord_sf(datum=NA) +   labs(title = \"Median Household Income in 2020\", subtitle = \"Toronto Census Subdivisions, 2021 Census\")"},{"path":"https://mountainmath.github.io/cancensus/articles/Making_maps_with_cancensus.html","id":"interactive-maps-with-leaflet","dir":"Articles","previous_headings":"","what":"Interactive maps with leaflet","title":"Making maps with cancensus","text":"leaflet library mainstay behind interactive web maps, RStudio package allows creation interactive leaflet maps without leave R use Javascript. Leaflet R can natively read sf sp class objects. Leaflet maps use tile layer server generate base maps data plotted. ’s number different base layers available use, although require third party API keys. gallery available basemaps can found . Adding colour ramps additional interactivity takes little bit work still pretty easy implement. Following example can specify colour ramp match needs.","code":"library(leaflet) leaflet(toronto) %>%    addProviderTiles(providers$CartoDB.Positron) %>%   addPolygons() bins <- c(0, 30000,40000, 50000,60000, 70000,80000, 90000,100000, 110000, Inf) pal <- colorBin(\"RdYlBu\", domain = toronto$v_CA16_2397, bins = bins) leaflet(toronto) %>%    addProviderTiles(providers$CartoDB.Positron) %>%   addPolygons(fillColor = ~pal(median_hh_income),               color = \"white\",               weight = 1,               opacity = 1,               fillOpacity = 0.65)"},{"path":"https://mountainmath.github.io/cancensus/articles/Taxfiler_Data.html","id":"background","dir":"Articles","previous_headings":"","what":"Background","title":"Additional datasets: Annual T1FF taxfiler data","text":"collaboration Canadian Mortgage Housing Corporation (CMHC), CensusMapper added open-sourced annual T1FF taxfiler data provides annual look basic demographic variables. Data available via cancensus package years 2001 2017. T1FF dataset contains information : individual income government transfers family income family composition taxfilers age groups taxfilers dependents age groups marital status select demographic variables data comes varying Census geographies, depending year. Retrieving annual dataset via get_census automatically reference correct Census geography attach correct spatial boundaries. taxfiler data organized consistent internal referencing. identifier number families low income 2017 “v_TX2017_786” families “v_TX2017_607”, ones years given simply swapping year. makes variables selection process easy.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/Taxfiler_Data.html","id":"example-usage-constructing-a-multi-year-series-of-families-in-low-income-status","dir":"Articles","previous_headings":"","what":"Example usage: constructing a multi-year series of families in low-income status","title":"Additional datasets: Annual T1FF taxfiler data","text":"example explore multi-year time series families low income. Data low income families available years 2004 later, start 2006 just data fits nice grid. see available T1FF datasets reference codes can use list_census_datasets(). , example, available data vectors one T1FF dataset. particular dataset 800 individual vectors. vector codes follow regular pattern across different years, can use quickly identify relevant variables interest across multiple datasets. can utilized CensusMapper graphical variable selection interface, can also reached calling explore_census_vectors() R console. example interested low income families note internal CensusMapper vector families form *v_TX_607* families low income *v_TX_786*. geography varies across Census periods, call get_census automatically attach correct geography annual dataset. pick four years look low income families. also re-organized data year. ’s left plot data, one year time.  may tempted re-arrange data create timelines, careful census geographies change time. Inspecting dataset tables top informs us 2006 2011 data come common 2006 census geography, 2006 2011 tax data directly comparable.  Analyzing change longer timelines span changes Census geometries involves work, tongfen package facilitates provides convenient interface generating timelines spanning geometries several Census years.","code":"# Packages used for example library(cancensus) library(dplyr) library(tidyr) library(ggplot2) library(sf) list_census_datasets() %>%    filter(grepl(\"taxfiler\",description)) #> # A tibble: 19 × 6 #>    dataset description           geo_dataset attribution reference reference_url #>    <chr>   <chr>                 <chr>       <chr>       <chr>     <chr>         #>  1 TX2000  2000 T1FF taxfiler d… CA1996      StatCan 20… 72-212-X  https://www1… #>  2 TX2001  2001 T1FF taxfiler d… CA01        StatCan 20… 72-212-X  https://www1… #>  3 TX2002  2002 T1FF taxfiler d… CA01        StatCan 20… 72-212-X  https://www1… #>  4 TX2003  2003 T1FF taxfiler d… CA01        StatCan 20… 72-212-X  https://www1… #>  5 TX2004  2004 T1FF taxfiler d… CA01        StatCan 20… 72-212-X  https://www1… #>  6 TX2005  2005 T1FF taxfiler d… CA01        StatCan 20… 72-212-X  https://www1… #>  7 TX2006  2006 T1FF taxfiler d… CA06        StatCan 20… 72-212-X  https://www1… #>  8 TX2007  2007 T1FF taxfiler d… CA06        StatCan 20… 72-212-X  https://www1… #>  9 TX2008  2008 T1FF taxfiler d… CA06        StatCan 20… 72-212-X  https://www1… #> 10 TX2009  2009 T1FF taxfiler d… CA06        StatCan 20… 72-212-X  https://www1… #> 11 TX2010  2010 T1FF taxfiler d… CA06        StatCan 20… 72-212-X  https://www1… #> 12 TX2011  2011 T1FF taxfiler d… CA06        StatCan 20… 72-212-X  https://www1… #> 13 TX2012  2012 T1FF taxfiler d… CA11        StatCan 20… 72-212-X  https://www1… #> 14 TX2013  2013 T1FF taxfiler d… CA11        StatCan 20… 72-212-X  https://www1… #> 15 TX2014  2014 T1FF taxfiler d… CA11        StatCan 20… 72-212-X  https://www1… #> 16 TX2015  2015 T1FF taxfiler d… CA11        StatCan 20… 72-212-X  https://www1… #> 17 TX2016  2016 T1FF taxfiler d… CA16        StatCan 20… 72-212-X  https://www1… #> 18 TX2017  2017 T1FF taxfiler d… CA16        StatCan 20… 72-212-X  https://www1… #> 19 TX2018  2018 T1FF taxfiler d… CA16        StatCan 20… 72-212-X  https://www1… list_census_vectors('TX2017') #> # A tibble: 818 × 7 #>    vector      type  label           units     parent_vector aggregation details #>    <chr>       <fct> <chr>           <fct>     <chr>         <chr>       <chr>   #>  1 v_TX2017_1  Total Taxfilers - #   Number    NA            Additive    Tax da… #>  2 v_TX2017_3  Total % 0-24          Percenta… v_TX2017_1    Average of… Tax da… #>  3 v_TX2017_4  Total % 25-44         Percenta… v_TX2017_1    Average of… Tax da… #>  4 v_TX2017_5  Total % 45-64         Percenta… v_TX2017_1    Average of… Tax da… #>  5 v_TX2017_6  Total % 65+           Percenta… v_TX2017_1    Average of… Tax da… #>  6 v_TX2017_7  Total Average - Age   Ratio     v_TX2017_1    Average of… Tax da… #>  7 v_TX2017_8  Total % female        Percenta… v_TX2017_1    Average of… Tax da… #>  8 v_TX2017_9  Total % married       Percenta… v_TX2017_1    Average of… Tax da… #>  9 v_TX2017_10 Total % in appt       Percenta… v_TX2017_1    Average of… Tax da… #> 10 v_TX2017_11 Total All persons - # Number    NA            Additive    Tax da… #> # ℹ 808 more rows years <- c(2006,2011,2014,2018) # Attribution for the dataset to be used in graphs attribution <- dataset_attribution(paste0(\"TX\",years))  plot_data <- years %>%   lapply(function(year) {     dataset <- paste0(\"TX\",year)     vectors <- c(\"Families\"=paste0(\"v_\",dataset,\"_607\"),                  \"CFLIM-AT\"=paste0(\"v_\",dataset,\"_786\"))          get_census(dataset,regions=list(CMA=\"59933\"),vectors = vectors,                     geo_format = 'sf', level=\"CT\", quiet = TRUE) %>%       select(c(\"GeoUID\",names(vectors))) %>%       mutate(Year=year)   }) %>%   bind_rows() %>%   mutate(share=`CFLIM-AT`/Families) ggplot(plot_data,aes(fill=share)) +   geom_sf(size=0.1,color=\"white\") +   facet_wrap(\"Year\") +   scale_fill_viridis_c(labels=scales::percent,option = \"inferno\",                        trans=\"log\",breaks = c(0.05,0.1,0.2,0.4)) +   coord_sf(datum=NA,xlim=c(-123.4, -122.5), ylim=c(49.01, 49.4)) +   labs(title=\"Share of census families in low income\",fill=\"Share\",        caption=attribution) change_data <- plot_data %>%    filter(Year==2006) %>%    select(GeoUID,`2006`=share) %>%   left_join(plot_data %>%               st_set_geometry(NULL) %>%               filter(Year==2011) %>%                select(GeoUID,`2011`=share),             by=\"GeoUID\") %>%   mutate(change=`2011`-`2006`)    ggplot(change_data,aes(fill=change)) +   geom_sf(size=0.1) +   scale_fill_gradient2(labels=scales::percent) +   #scale_fill_viridis_c(labels=scales::percent,option = \"inferno\") +   coord_sf(datum=NA,xlim=c(-123.4, -122.5), ylim=c(49.01, 49.4)) +   labs(title=\"Change in share of census families in low income 2006-2011\",fill=\"Percentage\\npoint change\",caption=dataset_attribution(paste0(\"TX\",c(2006,2011))))"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"cancensus-and-censusmapper","dir":"Articles","previous_headings":"","what":"Cancensus and CensusMapper","title":"cancensus","text":"cancensus package developed provide users way access Canadian Census programmatic way following good tidy data practices. structure data cancensus unique Canadian Census data, package inspired part tidycensus, package interface US Census Bureau data APIs. Statistics Canada provide direct API access Census data, cancensus retrieves Census data indirectly CensusMapper API. CensusMapper project Jens von Bergmann, one authors cancensus, provide interactive geographic visualizations Canadian Census data. CensusMapper databases store publicly available data Statistics Canada 2006, 2011, 2016 Censuses. CensusMapper data can accessed via API cancensus built interface directly .","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"api-key","dir":"Articles","previous_headings":"Cancensus and CensusMapper","what":"API Key","title":"cancensus","text":"cancensus requires valid CensusMapper API key use. can obtain free API key signing CensusMapper account. CensusMapper API keys free public API quotas generous; however, due incremental costs serving large quantities data, limits API usage place. use cases, API limits issue. Production uses large extracts fine grained geographies may run API quota limits. larger quotas, please get touch Jens directly. check API key, just go “Edit Profile” (top-right CensusMapper menu bar). key, can store system environment automatically used API calls. just enter set_cancensus_api_key(<your_api_key>, install = TRUE)","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"installing-cancensus","dir":"Articles","previous_headings":"Cancensus and CensusMapper","what":"Installing cancensus","title":"cancensus","text":"stable version cancensus can easily installed CRAN. Alternatively, latest development version can installed Github using `remotes``. already done , can install API keys data cache path. can get free API key sign CensusMapper account check profile. Additionally recommend set permanent data cache path census data query stored persistently across sessions. Make sure replace filler text <your_api_key> <local cache path> actual API key local cache path. Data persistent cache can managed via functions list_cancensus_cache remove_from_cancensus_cache needed.","code":"install.packages(\"cancensus\")  library(cancensus) # install.packages(\"devtools\") remotes::install_github(\"mountainmath/cancensus\")  library(cancensus) # Only need to install api key can cache path once set_cancensus_api_key('<your_api_key>', install = TRUE) set_cancensus_cache_path('<local cache path>', install = TRUE)"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"accessing-census-data","dir":"Articles","previous_headings":"","what":"Accessing Census Data","title":"cancensus","text":"cancensus provides three different functions retrieving Census data: * get_census retrieve Census data geography spatial dataset * get_census_data retrieve Census data flat data frame * get_census_geometry retrieve Census geography collection spatial polygons. get_census takes inputs dataset parameter, list specified regions, vector Census variables, Census geography level. can specify one three options spatial formats: NA return data , sf return sf-class data frame, sp return SpatialPolygonsDataFrame object. cancensus utilizes caching increase speed, minimize API token usage, make data available offline. Downloaded data hashed stored locally call made access data, cancensus read local version instead. force cancensus refresh data, specify use_cache = FALSE parameter get_census. Additional parameters advanced options can viewed running ?get_census.","code":"# Returns a data frame with data only census_data <- get_census(dataset='CA21', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA21_434\",\"v_CA21_435\",\"v_CA21_440\"),                           level='CSD', use_cache = FALSE, geo_format = NA, quiet = TRUE)  # Returns data and geography as an sf-class data frame census_data <- get_census(dataset='CA21', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA21_434\",\"v_CA21_435\",\"v_CA21_440\"),                           level='CSD', use_cache = FALSE, geo_format = 'sf', quiet = TRUE)  # Returns a SpatialPolygonsDataFrame object with data and geography census_data <- get_census(dataset='CA21', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA21_434\",\"v_CA21_435\",\"v_CA21_440\"),                           level='CSD', use_cache = FALSE, geo_format = 'sp', quiet = TRUE)"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"census-datasets","dir":"Articles","previous_headings":"Accessing Census Data","what":"Census Datasets","title":"cancensus","text":"cancensus can access Statistics Canada Census data Census years 1996, 2001, 2006, 2011, 2016, 2021. can run list_census_datasets check datasets currently available access CensusMapper API. Thanks contributions Canada Mortgage Housing Corporation (CMHC), cancensus now includes additional Census-linked datasets open-data releases. include annual taxfiler data census tract level tax years 2000 2017, includes data incomes demographics, well specialized crosstabs Structural type dwelling Document type, details occupancy status residences. crosstabs available 2001, 2006, 2011, 2016 Census years levels starting census tract. function list_census_datasets() show available datasets alongside metadata. Census datasets become available via CensusMapper API, listed output calling list_census_datasets().","code":"list_census_datasets() #> # A tibble: 29 × 6 #>    dataset description           geo_dataset attribution reference reference_url #>    <chr>   <chr>                 <chr>       <chr>       <chr>     <chr>         #>  1 CA1996  1996 Canada Census    CA1996      StatCan 19… 92-351-U  https://www1… #>  2 CA01    2001 Canada Census    CA01        StatCan 20… 92-378-X  https://www1… #>  3 CA06    2006 Canada Census    CA06        StatCan 20… 92-566-X  https://www1… #>  4 CA11    2011 Canada Census a… CA11        StatCan 20… 98-301-X… https://www1… #>  5 CA16    2016 Canada Census    CA16        StatCan 20… 98-301-X  https://www1… #>  6 CA21    2021 Canada Census    CA21        StatCan 20… 98-301-X  https://www1… #>  7 CA01xSD 2001 Canada Census x… CA01        StatCan 20… 92-378-X  https://www1… #>  8 CA06xSD 2006 Canada Census x… CA06        StatCan 20… 92-566-X  https://www1… #>  9 CA11xSD 2011 Canada Census x… CA11        StatCan 20… 98-301-X  https://www1… #> 10 CA16xSD 2016 Canada Census x… CA16        StatCan 20… 98-301-X  https://www1… #> # ℹ 19 more rows"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"census-regions","dir":"Articles","previous_headings":"Accessing Census Data","what":"Census Regions","title":"cancensus","text":"Census data aggregated multiple geographic levels. Census geographies national (C), provincial (PR), census metropolitan area (CMA), census agglomeration (CA), census division (CD), census subdivision (CSD) defined named census regions. Canadian Census geography can change Census periods. cancensus provides function, list_census_regions(dataset), display named census regions corresponding id given census dataset. regions parameter get_census requires input list region id strings correspond regions geoid. can combine different regions together region lists.","code":"list_census_regions(\"CA21\") #> # A tibble: 5,518 × 8 #>    region name               level    pop municipal_status CMA_UID CD_UID PR_UID #>    <chr>  <chr>              <chr>  <int> <chr>            <chr>   <chr>  <chr>  #>  1 01     Canada             C     3.70e7 NA               NA      NA     NA     #>  2 35     Ontario            PR    1.42e7 Ont.             NA      NA     NA     #>  3 24     Quebec             PR    8.50e6 Que.             NA      NA     NA     #>  4 59     British Columbia   PR    5.00e6 B.C.             NA      NA     NA     #>  5 48     Alberta            PR    4.26e6 Alta.            NA      NA     NA     #>  6 46     Manitoba           PR    1.34e6 Man.             NA      NA     NA     #>  7 47     Saskatchewan       PR    1.13e6 Sask.            NA      NA     NA     #>  8 12     Nova Scotia        PR    9.69e5 N.S.             NA      NA     NA     #>  9 13     New Brunswick      PR    7.76e5 N.B.             NA      NA     NA     #> 10 10     Newfoundland and … PR    5.11e5 N.L.             NA      NA     NA     #> # ℹ 5,508 more rows # Retrieves Vancouver and Toronto list_census_regions('CA21') %>%    filter(level == \"CMA\", name %in% c(\"Vancouver\",\"Toronto\")) #> # A tibble: 2 × 8 #>   region name      level     pop municipal_status CMA_UID CD_UID PR_UID #>   <chr>  <chr>     <chr>   <int> <chr>            <chr>   <chr>  <chr>  #> 1 35535  Toronto   CMA   6202225 B                NA      NA     35     #> 2 59933  Vancouver CMA   2642825 B                NA      NA     59  census_data <- get_census(dataset='CA21', regions=list(CMA=c(\"59933\",\"35535\")),                           vectors=c(\"v_CA21_434\",\"v_CA21_435\",\"v_CA21_440\"),                           level='CSD', use_cache = FALSE, quiet = TRUE)"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"census-geographic-levels","dir":"Articles","previous_headings":"Accessing Census Data","what":"Census Geographic Levels","title":"cancensus","text":"Census data accessible cancensus comes available number different aggregation levels including: Selecting regions = \"59933\" level = \"CT\" return data 478 census tracts Vancouver Census Metropolitan Area. Selecting level = \"DA\" return data 3450 dissemination areas selecting level = \"DB\" retrieve data 15,197 dissemination block. Working CT, DA, EA, especially DB level data significantly increases size data downloads API usage. help minimize additional overhead, cancensus supports local data caching reduce usage load times. Setting level = \"Regions\" produce data strictly selected region without tiling data lower census aggregation levels levels.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"working-with-census-variables","dir":"Articles","previous_headings":"","what":"Working with Census Variables","title":"cancensus","text":"Census data contains thousands different geographic regions well thousands unique variables. addition enabling programmatic reproducible access Census data, cancensus number tools help users find data looking .","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"displaying-available-census-variables","dir":"Articles","previous_headings":"Working with Census Variables","what":"Displaying available Census variables","title":"cancensus","text":"Run list_census_vectors(dataset) view available Census variables given dataset.","code":"list_census_vectors(\"CA21\") #> # A tibble: 7,709 × 7 #>    vector    type   label                units parent_vector aggregation details #>    <chr>     <fct>  <chr>                <fct> <chr>         <chr>       <chr>   #>  1 v_CA21_1  Total  Population, 2021     Numb… NA            Additive    CA 202… #>  2 v_CA21_2  Total  Population, 2016     Numb… NA            Additive    CA 202… #>  3 v_CA21_3  Total  Population percenta… Numb… NA            Average of… CA 202… #>  4 v_CA21_4  Total  Total private dwell… Numb… NA            Additive    CA 202… #>  5 v_CA21_5  Total  Private dwellings o… Numb… v_CA21_4      Additive    CA 202… #>  6 v_CA21_6  Total  Population density … Ratio NA            Average of… CA 202… #>  7 v_CA21_7  Total  Land area in square… Numb… NA            Additive    CA 202… #>  8 v_CA21_8  Total  Total - Age          Numb… NA            Additive    CA 202… #>  9 v_CA21_9  Male   Total - Age          Numb… NA            Additive    CA 202… #> 10 v_CA21_10 Female Total - Age          Numb… NA            Additive    CA 202… #> # ℹ 7,699 more rows"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"variable-characteristics","dir":"Articles","previous_headings":"Working with Census Variables","what":"Variable characteristics","title":"cancensus","text":"variable (vector) Census dataset, shows: Vector: short variable code Type: variables provided aggregates female responses, male responses, total (male+female) responses Label: detailed variable name Units: provides information whether variable represents count integer, ratio, percentage, currency figure Parent_vector: shows immediate hierarchical parent category variable, appropriate Aggregation: indicates variable aggregated others, whether additive average another variable Description: rough description variable based hierarchical structure. constructed cancensus recursively traversing labels every variable’s hierarchy, facilitates searching specific variables using key terms.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"variable-search","dir":"Articles","previous_headings":"Working with Census Variables","what":"Variable search","title":"cancensus","text":"Census dataset features numerous variables making bit challenge find exact variable looking . function, find_census_vectors(), searching Census variable metadata different ways. three types searches possible using function: exact search, simply looks exact string matches given query vector dataset; keyword search, breaks vector metadata unigram tokens tries find vectors greatest number unique matches; , semantic search works better search phrases tolerance inexact searches. Switching search modes done using query_type argument calling find_census_variables() function.","code":"# Find the variable indicating the number of people of Austrian ethnic origin find_census_vectors(\"Australia\", dataset = \"CA16\", type = \"total\", query_type = \"exact\") #> # A tibble: 2 × 4 #>   vector      type  label      details                                           #>   <chr>       <fct> <chr>      <chr>                                             #> 1 v_CA16_3813 Total Australia  25% Data; Citizenship and Immigration; Total - S… #> 2 v_CA16_4809 Total Australian 25% Data; Minority / Origin; Total - Ethnic orig…  find_census_vectors(\"Australia origin\", dataset = \"CA16\", type = \"total\", query_type = \"semantic\") #> # A tibble: 1 × 4 #>   vector      type  label      details                                           #>   <chr>       <fct> <chr>      <chr>                                             #> 1 v_CA16_4809 Total Australian 25% Data; Minority / Origin; Total - Ethnic orig…  find_census_vectors(\"Australian ethnic\", dataset = \"CA16\", type = \"total\", query_type = \"keyword\", interactive = FALSE) #> # A tibble: 1 × 4 #>   vector      type  label      details                                           #>   <chr>       <fct> <chr>      <chr>                                             #> 1 v_CA16_4809 Total Australian 25% Data; Minority / Origin; Total - Ethnic orig…"},{"path":"https://mountainmath.github.io/cancensus/articles/cancensus.html","id":"managing-variable-hierarchy","dir":"Articles","previous_headings":"Working with Census Variables","what":"Managing variable hierarchy","title":"cancensus","text":"Census variables frequently hierarchical. example, consider variable number people Austrian ethnic background. can select vector quickly look entire hierarchy using parent_census_vectors vector list. Sometimes want traverse hierarchy opposite direction. frequently required looking compare different variable stems share aggregate variable. example, want look total count Northern European ethnic origin respondents disaggregated individual countries, pretty easy . search result shows vector v_CA16_4092 represents aggregate Northern European origins. child_census_vectors function can return list constituent underlying variables. leaves = TRUE parameter specifies whether intermediate aggregates included . TRUE lowest level variables returns - “leaves” hierarchical tree.","code":"list_census_vectors(\"CA16\") %>%    filter(vector == \"v_CA16_4092\") %>%    parent_census_vectors() #> # A tibble: 3 × 7 #>   vector      type  label                units parent_vector aggregation details #>   <chr>       <fct> <chr>                <fct> <chr>         <chr>       <chr>   #> 1 v_CA16_4089 Total Western European or… Numb… v_CA16_4044   Additive    CA 201… #> 2 v_CA16_4044 Total European origins     Numb… v_CA16_3999   Additive    CA 201… #> 3 v_CA16_3999 Total Total - Ethnic orig… Numb… NA            Additive    CA 201… # Find the variable indicating the Northern European aggregate find_census_vectors(\"Northern European\", dataset = \"CA16\", type = \"Total\") #> # A tibble: 7 × 4 #>   vector      type  label                                                details #>   <chr>       <fct> <chr>                                                <chr>   #> 1 v_CA16_4122 Total Northern European origins (except British Isles ori… 25% Da… #> 2 v_CA16_4125 Total Danish                                               25% Da… #> 3 v_CA16_4128 Total Finnish                                              25% Da… #> 4 v_CA16_4131 Total Icelandic                                            25% Da… #> 5 v_CA16_4134 Total Norwegian                                            25% Da… #> 6 v_CA16_4137 Total Swedish                                              25% Da… #> 7 v_CA16_4140 Total Northern European origins, n.i.e.                    25% Da… # Show all child variable leaves list_census_vectors(\"CA16\") %>%    filter(vector == \"v_CA16_4122\") %>% child_census_vectors(leaves = TRUE) #> # A tibble: 6 × 7 #>   vector      type  label                units parent_vector aggregation details #>   <chr>       <fct> <chr>                <fct> <chr>         <chr>       <chr>   #> 1 v_CA16_4125 Total Danish               Numb… v_CA16_4122   Additive    CA 201… #> 2 v_CA16_4128 Total Finnish              Numb… v_CA16_4122   Additive    CA 201… #> 3 v_CA16_4131 Total Icelandic            Numb… v_CA16_4122   Additive    CA 201… #> 4 v_CA16_4134 Total Norwegian            Numb… v_CA16_4122   Additive    CA 201… #> 5 v_CA16_4137 Total Swedish              Numb… v_CA16_4122   Additive    CA 201… #> 6 v_CA16_4140 Total Northern European o… Numb… v_CA16_4122   Additive    CA 201…"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"census-datasets","dir":"Articles","previous_headings":"","what":"Census datasets","title":"Data discovery","text":"cancensus can access Statistics Canada Census data 1996, 2001, 2006 Censuses, 2011 Census National Household Survey, 2016 Census, well 2021 Census. can run list_census_datasets check datasets currently available access CensusMapper API. Thanks contributions Canada Mortgage Housing Corporation (CMHC), cancensus now includes additional Census-linked datasets open-data releases. include annual tax-filer data census tract level tax years 2000 2017, includes data incomes demographics, well specialized crosstabs Structural type dwelling Document type, details occupancy status residences. crosstabs available 2001, 2006, 2011, 2016 Census years levels starting census tract. list_census_datasets() function also provides additional background like series reference code, catalogue reference, attribution details.","code":"list_census_datasets() #> # A tibble: 29 × 6 #>    dataset description           geo_dataset attribution reference reference_url #>    <chr>   <chr>                 <chr>       <chr>       <chr>     <chr>         #>  1 CA1996  1996 Canada Census    CA1996      StatCan 19… 92-351-U  https://www1… #>  2 CA01    2001 Canada Census    CA01        StatCan 20… 92-378-X  https://www1… #>  3 CA06    2006 Canada Census    CA06        StatCan 20… 92-566-X  https://www1… #>  4 CA11    2011 Canada Census a… CA11        StatCan 20… 98-301-X… https://www1… #>  5 CA16    2016 Canada Census    CA16        StatCan 20… 98-301-X  https://www1… #>  6 CA21    2021 Canada Census    CA21        StatCan 20… 98-301-X  https://www1… #>  7 CA01xSD 2001 Canada Census x… CA01        StatCan 20… 92-378-X  https://www1… #>  8 CA06xSD 2006 Canada Census x… CA06        StatCan 20… 92-566-X  https://www1… #>  9 CA11xSD 2011 Canada Census x… CA11        StatCan 20… 98-301-X  https://www1… #> 10 CA16xSD 2016 Canada Census x… CA16        StatCan 20… 98-301-X  https://www1… #> # ℹ 19 more rows"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"variable-vectors","dir":"Articles","previous_headings":"","what":"Variable vectors","title":"Data discovery","text":"Census datasets cancensus package provides access rich detail can complex navigate. thousands variable vectors, including separate vector indicators aggregations split Total, Female, Male populations. result, total number vectors per dataset significant, ranging 1,715 CA01 dataset 6,623 CA16 one.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"view-available-census-variable-vectors","dir":"Articles","previous_headings":"Variable vectors","what":"View available Census variable vectors","title":"Data discovery","text":"list_census_vectors(dataset) retrieves index available vectors given dataset CensusMapper API local cache recently called. Census variable vector code assigned naming pattern goes v_{dataset}_{index}. code vectors identified CensusMapper API. addition vector code, additional information showing population type, aggregation type, label details, well variable hierarchy. function can also used show variables additional datasets made accessible CensusMapper API.","code":"list_census_vectors('CA21') #> # A tibble: 7,709 × 7 #>    vector    type   label                units parent_vector aggregation details #>    <chr>     <fct>  <chr>                <fct> <chr>         <chr>       <chr>   #>  1 v_CA21_1  Total  Population, 2021     Numb… NA            Additive    CA 202… #>  2 v_CA21_2  Total  Population, 2016     Numb… NA            Additive    CA 202… #>  3 v_CA21_3  Total  Population percenta… Numb… NA            Average of… CA 202… #>  4 v_CA21_4  Total  Total private dwell… Numb… NA            Additive    CA 202… #>  5 v_CA21_5  Total  Private dwellings o… Numb… v_CA21_4      Additive    CA 202… #>  6 v_CA21_6  Total  Population density … Ratio NA            Average of… CA 202… #>  7 v_CA21_7  Total  Land area in square… Numb… NA            Additive    CA 202… #>  8 v_CA21_8  Total  Total - Age          Numb… NA            Additive    CA 202… #>  9 v_CA21_9  Male   Total - Age          Numb… NA            Additive    CA 202… #> 10 v_CA21_10 Female Total - Age          Numb… NA            Additive    CA 202… #> # ℹ 7,699 more rows"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"searching-for-census-variable-vectors","dir":"Articles","previous_headings":"Variable vectors","what":"Searching for Census variable vectors","title":"Data discovery","text":"Due large number Census variables can hard find right data. function searching Census variable metadata different ways. three types searches possible using function: exact search, simply looks exact string matches given query vector dataset; keyword search, breaks vector metadata unigram tokens tries find vectors greatest number unique matches; , semantic search works better search phrases tolerance inexact searches. Switching search modes done using query_type argument calling find_census_vectors() function. Note variable search optimized Census variables main Census datasets. searches generally work variables additional datasets cross-tabs taxfiler data, extensively tested datasets.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"exact-search","dir":"Articles","previous_headings":"Variable vectors > Searching for Census variable vectors","what":"Exact search","title":"Data discovery","text":"Exact search uses exact string matching. best used know exactly term looking , robust spelling errors. , hand, return warning. Unless otherwise specified, find_census_vectors() use exact search default option.","code":"find_census_vectors(\"Oji-cree\", dataset = \"CA16\", type = \"total\", query_type = \"exact\") #> # A tibble: 4 × 4 #>   vector      type  label    details                                             #>   <chr>       <fct> <chr>    <chr>                                               #> 1 v_CA16_626  Total Oji-Cree Language; Total - Mother tongue for the total popu… #> 2 v_CA16_1433 Total Oji-Cree Language; Total - Language spoken most often at ho… #> 3 v_CA16_2676 Total Oji-Cree 25% Data; Total - Knowledge of languages for the p… #> 4 v_CA16_5930 Total Oji-Cree 25% Data; Work; Total - Language used most often a… find_census_vectors(\"Ojib-cree\", dataset = \"CA16\", type = \"total\", query_type = \"exact\") #> Warning: No exact matches found. Please check spelling and try again or consider using semantic or keyword search. #> See ?find_census_vectors() for more details. #>  #> Alternatively, you can launch the Censusmapper web API in a browser by calling explore_census_vectors(dataset)"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"keyword-search","dir":"Articles","previous_headings":"Variable vectors > Searching for Census variable vectors","what":"Keyword search","title":"Data discovery","text":"Keyword search meant used know approximate subject matter variable without knowing exact variable looking . hood, keyword search splits query vector details unique unigram tokens looks vectors greatest number matches. Keyword search show results highest number unique keyword matches. happens keyword matches fewer total matches? default, function argument set interactive = TRUE, prompt user console menu option see rest matches . using find_census_vectors() script reproducible documentation, recommend setting argument interactive = FALSE.","code":"find_census_vectors('commute mode', dataset = 'CA16', type = 'female', query_type = 'keyword', interactive = FALSE) #> # A tibble: 7 × 4 #>   vector      type   label                                               details #>   <chr>       <fct>  <chr>                                               <chr>   #> 1 v_CA16_5794 Female Total - Main mode of commuting for the employed la… 25% Da… #> 2 v_CA16_5797 Female Car, truck, van - as a driver                       25% Da… #> 3 v_CA16_5800 Female Car, truck, van - as a passenger                    25% Da… #> 4 v_CA16_5803 Female Public transit                                      25% Da… #> 5 v_CA16_5806 Female Walked                                              25% Da… #> 6 v_CA16_5809 Female Bicycle                                             25% Da… #> 7 v_CA16_5812 Female Other method                                        25% Da…"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"semantic-search","dir":"Articles","previous_headings":"Variable vectors > Searching for Census variable vectors","what":"Semantic search","title":"Data discovery","text":"Semantic search works best phrases. Rather decontextualized unigrams keyword search, semantic search splits queries vector details n-grams finds matches using approximate string distances based generalized Levenshtein distance. Semantic search robust spelling punctuation issues may come exact search. example, throws warning: find correct Census vector. Results ordered string proximity multiple possible matches.","code":"find_census_vectors(\"after tax incomes\", dataset = \"CA16\", type = \"total\", query_type = \"semantic\") #> # A tibble: 56 × 4 #>    vector      type  label                                               details #>    <chr>       <fct> <chr>                                               <chr>   #>  1 v_CA16_2210 Total Number of after-tax income recipients aged 15 year… Income… #>  2 v_CA16_2213 Total Median after-tax income in 2015 among recipients (… Income… #>  3 v_CA16_2306 Total Percentage with after-tax income                    Income… #>  4 v_CA16_2297 Total Total - After-tax income groups in 2015 for the po… Income… #>  5 v_CA16_2300 Total Without after-tax income                            Income… #>  6 v_CA16_2303 Total With after-tax income                               Income… #>  7 v_CA16_2309 Total Under $10,000 (including loss)                      Income… #>  8 v_CA16_2312 Total $10,000 to $19,999                                  Income… #>  9 v_CA16_2315 Total $20,000 to $29,999                                  Income… #> 10 v_CA16_2318 Total $30,000 to $39,999                                  Income… #> # ℹ 46 more rows find_census_vectors(\"ojib cree\", dataset = \"CA16\", type = \"total\", query_type = \"exact\") #> Warning: No exact matches found. Please check spelling and try again or consider using semantic or keyword search. #> See ?find_census_vectors() for more details. #>  #> Alternatively, you can launch the Censusmapper web API in a browser by calling explore_census_vectors(dataset) find_census_vectors('ojib cree', dataset = 'CA16', type = 'total', query_type = 'semantic') #> Multiple possible matches. Results ordered by closeness. #> # A tibble: 4 × 4 #>   vector      type  label    details                                             #>   <chr>       <fct> <chr>    <chr>                                               #> 1 v_CA16_626  Total Oji-Cree Language; Total - Mother tongue for the total popu… #> 2 v_CA16_1433 Total Oji-Cree Language; Total - Language spoken most often at ho… #> 3 v_CA16_2676 Total Oji-Cree 25% Data; Total - Knowledge of languages for the p… #> 4 v_CA16_5930 Total Oji-Cree 25% Data; Work; Total - Language used most often a…"},{"path":[]},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"standard-geographical-classification","dir":"Articles","previous_headings":"Census regions","what":"Standard Geographical Classification","title":"Data discovery","text":"Statistics Canada uses official classification geographic areas known Standard Geographical Classification (SGC), updated periodically. latest version based 2021 Census. Geographic classification codes standardized across Statistics Canada products, including Census well Statistics Canada dataset. practice, means region ID Vancouver Census subdivision 5915022 across products. cancensus region ID code used identify appropriate spatial vector data retrieve alongside Census data. region IDs predictable structure, provinces two digits, Census divisions 4 digits (including 2 province), Census subdivisions 7 digits (including 2 province, 2 Census division). levels hierarchical complete province split Census divisions, split Census subdivisions. Geographies standardized names province, Census division, Census subdivision levels, well Census metropolitan areas Census agglomerations. Lower geographic levels Census tracts dissemination areas (DA, EA, DB) named listed unique identifying codes derived parent Census subdivision. also additional region, id 01 level code C represents Canada whole.","code":"#> # A tibble: 3 × 4 #>      PR    CD   CSD name                          #>   <dbl> <dbl> <dbl> <chr>                         #> 1    35    NA    NA Ontario                       #> 2    35    18    NA Durham (Regional municipality #> 3    35    18    13 Oshawa (City) #> # A tibble: 6 × 2 #>   level     n #>   <chr> <int> #> 1 C         1 #> 2 CA        9 #> 3 CD      293 #> 4 CMA      41 #> 5 CSD    5161 #> 6 PR       13"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"a-note-on-census-metropolitan-areas-and-census-agglomerations","dir":"Articles","previous_headings":"Census regions > Standard Geographical Classification","what":"A note on Census Metropolitan Areas and Census Agglomerations","title":"Data discovery","text":"Data can also extracted Census Metropolitan Area (CMA) Census Agglomeration (CA) level, derived variant SGC known Statistical Area Classification. Hierarchically, CMAs CAs represent collection constituent Census subdivisions. Census metropolitan area consists adjacent municipalities defined core total population least 100,000 50,000 must live core based Census data. Adjacent municipalities must high degree integration core, Statistics Canada measures based commuting flows indicated Census data. Census Agglomeration areas core population 10,000. CMAs CAs consist Census subdivisions Census subdivisions subset CMA CA. details CMAs CAs, consult Statistics Canada’s Census Dictionary article Census metropolitan areas (CMA) census agglomerations (CA). CMAs CAs data Census tract level, CAs . 2021 Census 41 CMAs 9 CAs Census tracts defined geography. 102 CAs without Census tracts distinctly defined geographies.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"aside-dissemination-areas-blocks-and-enumeration-areas","dir":"Articles","previous_headings":"Census regions > Standard Geographical Classification","what":"Aside: dissemination areas, blocks, and enumeration areas","title":"Data discovery","text":"Dissemination areas (DA) smallest atomic geographic unit census data captured. DAs cover entirety Canada follow boundaries census subdivisions census tracts. inter-census geographic stability guaranteed, generally tend stable census tracts census subdivisions make . addition census boundaries, DAs generally follow natural boundaries created spatial features like roads, railways, water features, designed spatially compact target population around 400-700 persons. 2021 census data 57,936 distinct DAs. Enumeration areas (EA) DA equivalent censuses prior 2001. Similar DAs, EAs used basic level census data collected. necessarily correspond accurately DAs data 2001 onwards. Dissemination block (DB) level data available 2001-2021 datasets. DBs essentially city blocks, bounded intersecting streets therefore largely product road networks time census. geographies identification codes DBs necessarily stable time. DBs split whenever intersect boundaries higher geographic levels way ensure can aggregated upwards precisely. DBs provide data population, dwelling counts, number households (2006 onwards) without additional characteristic data. DBs population 15 population counts adjusted privacy. 2021 census, close half million DB distinct regions.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"viewing-available-census-regions","dir":"Articles","previous_headings":"Census regions","what":"Viewing available Census regions","title":"Data discovery","text":"valid Census dataset, can view available Census regions calling list_census_regions(dataset). retrieve region code, name, level code indicating type geography. information includes population, municipal status, well parent geographic ids lower levels. CMAs included defined geography, well CAs Census tracts.","code":"list_census_regions('CA21') #> # A tibble: 5,518 × 8 #>    region name               level    pop municipal_status CMA_UID CD_UID PR_UID #>    <chr>  <chr>              <chr>  <int> <chr>            <chr>   <chr>  <chr>  #>  1 01     Canada             C     3.70e7 NA               NA      NA     NA     #>  2 35     Ontario            PR    1.42e7 Ont.             NA      NA     NA     #>  3 24     Quebec             PR    8.50e6 Que.             NA      NA     NA     #>  4 59     British Columbia   PR    5.00e6 B.C.             NA      NA     NA     #>  5 48     Alberta            PR    4.26e6 Alta.            NA      NA     NA     #>  6 46     Manitoba           PR    1.34e6 Man.             NA      NA     NA     #>  7 47     Saskatchewan       PR    1.13e6 Sask.            NA      NA     NA     #>  8 12     Nova Scotia        PR    9.69e5 N.S.             NA      NA     NA     #>  9 13     New Brunswick      PR    7.76e5 N.B.             NA      NA     NA     #> 10 10     Newfoundland and … PR    5.11e5 N.L.             NA      NA     NA     #> # ℹ 5,508 more rows"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"searching-through-named-census-regions","dir":"Articles","previous_headings":"Census regions","what":"Searching through named Census regions","title":"Data discovery","text":"can also search named geographies. return geographies name matches partially matches search query.","code":"search_census_regions(\"Vancouver\",\"CA21\") #> # A tibble: 7 × 8 #>   region  name              level     pop municipal_status CMA_UID CD_UID PR_UID #>   <chr>   <chr>             <chr>   <int> <chr>            <chr>   <chr>  <chr>  #> 1 59933   Vancouver         CMA   2642825 B                NA      NA     59     #> 2 5915    Greater Vancouver CD    2642825 RD               NA      NA     59     #> 3 5915022 Vancouver         CSD    662248 CY               59933   5915   59     #> 4 5915046 North Vancouver   CSD     88168 DM               59933   5915   59     #> 5 5915051 North Vancouver   CSD     58120 CY               59933   5915   59     #> 6 5915055 West Vancouver    CSD     44122 DM               59933   5915   59     #> 7 5915020 Metro Vancouver A CSD     18612 RDA              59933   5915   59"},{"path":"https://mountainmath.github.io/cancensus/articles/data_discovery.html","id":"exploring-census-variable-vectors-and-regions-interactively","dir":"Articles","previous_headings":"","what":"Exploring Census variable vectors and regions interactively","title":"Data discovery","text":"Sometimes can easier find right vectors regions exploring layout hierarchy Census data. especially true sure information available sure start. Finding right Census geographic code map easier using named search. also handy want assemble custom aggregation region codes different hierarchies. facilitate , included couple convenience functions take directly interactive tool variable region details Censusmapper website. explore hierarchical variable structure given dataset, say 2006 Census, running explore_census_vectors(dataset = \"CA06\"). view Census geography interactive map, explore_census_regions(dataset = \"CA16\"). usual, vectors geographies different Census datasets can retrieved using appropriate dataset code dataset argument.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/intersecting_geometries.html","id":"a-simple-example","dir":"Articles","previous_headings":"","what":"A simple example","title":"Finding intersecting geometries from custom data","text":"example, suppose interested understanding housing tenure split census tracts located near Vancouver Skytrain (rapid transit) stations. can use COV_SKYTRAIN_STATIONS dataset ships package derived City Vancouver Open Data portal contains locations. example interested census tracts within 800m stations, ships package. load example data COV_SKYTRAIN_STATIONS package. use get_intersecting_geometries call obtain list municipalities (CSDs) census tracts (CTs) intersect 800m station buffer objects. return list census geographic identifiers suitable use ‘region’ argument get_census. may interested transit work mode share buffers. understand relate plot data.  get closer match can cut dissemination areas intersecting station catchment areas.  However, API points get_intersecting_geometries quite limited point, alternative way obtain data first query DAs withing CTs identified previous get_intersecting_geometries call filter intersecting station buffers.  may increase default quotas get_intersecting_geometries call point, throttling API usage monitor server impacts new functionality may preferable use get_intersecting_geometries call higher level geographies add lines code final bit filtering R.","code":"library(cancensus) library(dplyr) library(ggplot2) library(sf) cov_station_buffers <- COV_SKYTRAIN_STATIONS %>%   st_set_crs(4326)  # needed for Ubuntu or systems with old GDAL but can otherwise be ignored station_city_ids <- get_intersecting_geometries(\"CA16\", level = \"CSD\", geometry = cov_station_buffers,                                                 quiet=TRUE) station_ct_ids <- get_intersecting_geometries(\"CA16\", level = \"CT\", geometry = cov_station_buffers,                                               quiet=TRUE) variables <- c(mode_base=\"v_CA16_5792\",transit=\"v_CA16_5801\",walk=\"v_CA16_5804\") station_city <-  get_census(\"CA16\", regions = station_city_ids, vectors = variables,                              geo_format = 'sf', quiet=TRUE) %>%    filter(name == \"Vancouver (CY)\") station_cts <-   get_census(\"CA16\", regions = station_ct_ids, vectors = variables,                              geo_format = 'sf', quiet=TRUE) ggplot(station_city) +   geom_sf(fill=NA) +   geom_sf(data=station_cts,aes(fill=((walk+transit)/mode_base))) +   geom_sf(data=cov_station_buffers,fill=NA,alpha=0.5,color=\"steelblue\") +   scale_fill_viridis_c(option=\"magma\",labels=scales::percent) +   coord_sf(datum=NA) +   labs(title=\"CTs within City of Vancouver skytrain station catchments\",        fill=\"Walk or\\ntransit\\nto work\",        caption=\"StatCan Census 2016\") station_das <-   get_intersecting_geometries(\"CA16\", level = \"DA\", geometry = cov_station_buffers,                                              quiet=TRUE) %>%    get_census(\"CA16\", regions = ., vectors=variables, geo_format = 'sf', quiet=TRUE)  ggplot(station_city) +   geom_sf(fill=NA) +   geom_sf(data=station_das,aes(fill=((walk+transit)/mode_base))) +   geom_sf(data=cov_station_buffers,fill=NA,alpha=0.5,color=\"steelblue\") +   scale_fill_viridis_c(option=\"magma\",labels=scales::percent) +   coord_sf(datum=NA) +   labs(title=\"DAs within City of Vancouver skytrain station catchments\",        fill=\"Walk or\\ntransit\\nto work\",        caption=\"StatCan Census 2016\") station_das2 <- get_census(\"CA16\", regions = station_ct_ids, vectors=variables,                             geo_format = 'sf', level=\"DA\", quiet=TRUE) %>%   sf::st_filter(cov_station_buffers)  ggplot(station_city) +   geom_sf(fill=NA) +   geom_sf(data=station_das2,aes(fill=((walk+transit)/mode_base))) +   geom_sf(data=cov_station_buffers,fill=NA,alpha=0.5,color=\"steelblue\") +   scale_fill_viridis_c(option=\"magma\",labels=scales::percent) +   coord_sf(datum=NA) +   labs(title=\"DAs within City of Vancouver skytrain station catchments\",        fill=\"Walk or\\ntransit\\nto work\",        caption=\"StatCan Census 2016\")"},{"path":"https://mountainmath.github.io/cancensus/articles/intersecting_geometries.html","id":"addendum","dir":"Articles","previous_headings":"","what":"Addendum","title":"Finding intersecting geometries from custom data","text":"may take estimate values census variables strictly within catchments areas. Rather intersecting, adjustments spatial disaggregation interpolation needed. tongfen_estimate method tongfen package useful case. related package designed work tandem cancensus order facilitate census geography aggregation designed make census data comparable across several censuses.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/statcan_attribute_files.html","id":"background","dir":"Articles","previous_headings":"","what":"Background","title":"StatCan attribute files","text":"Attribute files describe detailed relationship various Statistics Canada geographic levels provide population, household dewlling counts. information can useful understanding hierarchical relationships different geographic levels. CensusMapper API cancensus uses data queries ill-suited get comprehensive data hierarichal relationships Canada wide, can helpful direct access data comprehensive tabular form.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/statcan_attribute_files.html","id":"match-between-census-tracts-and-census-subdivisions","dir":"Articles","previous_headings":"","what":"Match between Census Tracts and Census Subdivisions","title":"StatCan attribute files","text":"interested understanding Census Tracts respect municipal boundaries ones don’t 2021 can consult geographic attributes file. contains row Census Block, basic building block census geographies, tags levels geography Census Block lies . answer question, filter Census Block ones lie within Census Tract, check collection Census Blocks within Census Tract many municipalities lie . shows census tracts Census Metropolitan Areas (CMATYPE_RMRGENRE=“B”) tracted Census Agglomerations (CMATYPE_RMRGENRE=“K”), census tracts spanning several municipalities.","code":"attributes <- get_statcan_geographic_attributes(\"2021\")  attributes %>% colnames() #>  [1] \"PRUID_PRIDU\"                   \"PRDGUID_PRIDUGD\"               #>  [3] \"PRNAME_PRNOM\"                  \"PRENAME_PRANOM\"                #>  [5] \"PRFNAME_PRFNOM\"                \"PREABBR_PRAABBREV\"             #>  [7] \"PRFABBR_PRFABBREV\"             \"CDUID_DRIDU\"                   #>  [9] \"CDDGUID_DRIDUGD\"               \"CDNAME_DRNOM\"                  #> [11] \"CDTYPE_DRGENRE\"                \"FEDUID_CEFIDU\"                 #> [13] \"FEDDGUID_CEFIDUGD\"             \"FEDNAME_CEFNOM\"                #> [15] \"CSDUID_SDRIDU\"                 \"CSDDGUID_SDRIDUGD\"             #> [17] \"CSDNAME_SDRNOM\"                \"CSDTYPE_SDRGENRE\"              #> [19] \"DPLUID_LDIDU\"                  \"DPLDGUID_LDIDUGD\"              #> [21] \"DPLNAME_LDNOM\"                 \"DPLTYPE_LDGENRE\"               #> [23] \"ERUID_REIDU\"                   \"ERDGUID_REIDUGD\"               #> [25] \"ERNAME_RENOM\"                  \"CCSUID_SRUIDU\"                 #> [27] \"CCSDGUID_SRUIDUGD\"             \"CCSNAME_SRUNOM\"                #> [29] \"SACTYPE_CSSGENRE\"              \"SACCODE_CSSCODE\"               #> [31] \"CMAPUID_RMRPIDU\"               \"CMAPDGUID_RMRPIDUGD\"           #> [33] \"CMAUID_RMRIDU\"                 \"CMADGUID_RMRIDUGD\"             #> [35] \"CMANAME_RMRNOM\"                \"CMATYPE_RMRGENRE\"              #> [37] \"CTUID_SRIDU\"                   \"CTDGUID_SRIDUGD\"               #> [39] \"CTCODE_SRCODE\"                 \"CTNAME_SRNOM\"                  #> [41] \"POPCTRRAPUID_CTRPOPRRPIDU\"     \"POPCTRRAPDGUID_CTRPOPRRPIDUGD\" #> [43] \"POPCTRRAUID_CTRPOPRRIDU\"       \"POPCTRRADGUID_CTRPOPRRIDUGD\"   #> [45] \"POPCTRRANAME_CTRPOPRRNOM\"      \"POPCTRRATYPE_CTRPOPRRGENRE\"    #> [47] \"POPCTRRACLASS_CTRPOPRRCLASSE\"  \"DAUID_ADIDU\"                   #> [49] \"DADGUID_ADIDUGD\"               \"DARPLAMX_ADLAMX\"               #> [51] \"DARPLAMY_ADLAMY\"               \"DARPLAT_ADLAT\"                 #> [53] \"DARPLONG_ADLONG\"               \"DBUID_IDIDU\"                   #> [55] \"DBDGUID_IDIDUGD\"               \"DBPOP2021_IDPOP2021\"           #> [57] \"DBTDWELL2021_IDTLOG2021\"       \"DBURDWELL2021_IDRHLOG2021\"     #> [59] \"DBAREA2021_IDSUP2021\"          \"DBIR2021_IDRI2021\"             #> [61] \"ADAUID_ADAIDU\"                 \"ADADGUID_ADAIDUGD\"             #> [63] \"ADACODE_ADACODE\" attributes %>%   filter(CMATYPE_RMRGENRE %in% c(\"B\",\"K\")) |> # filter areas not in CTs   group_by(CTCODE_SRCODE,CMATYPE_RMRGENRE) |>   summarise(`Number of municipalities`=length(unique(CSDUID_SDRIDU)),.groups=\"drop\") |>   count(`Number of municipalities`,CMATYPE_RMRGENRE) |>   arrange(CMATYPE_RMRGENRE,`Number of municipalities`) #> # A tibble: 7 × 3 #>   `Number of municipalities` CMATYPE_RMRGENRE     n #>                        <int> <chr>            <int> #> 1                          1 B                 5997 #> 2                          2 B                   33 #> 3                          3 B                   13 #> 4                          4 B                    5 #> 5                          6 B                    4 #> 6                          1 K                  194 #> 7                          2 K                    1"},{"path":"https://mountainmath.github.io/cancensus/articles/statcan_wds.html","id":"word-of-caution","dir":"Articles","previous_headings":"","what":"Word of caution","title":"StatCan WDS","text":"StatCan census WDS stable API, meaning internal identifiers used query changed past, may change future. Use extreme caution. call may give different results different points time. Moreover, API server sometimes unavailable.","code":""},{"path":"https://mountainmath.github.io/cancensus/articles/statcan_wds.html","id":"ukrainians-by-federal-electoral-districts","dir":"Articles","previous_headings":"","what":"Ukrainians by Federal Electoral Districts","title":"StatCan WDS","text":"example access share people Ukrainian ethnic origin Federal Electoral District level. 2013 Federal Electoral District boundaries currently available Statistics Canada, since want map data work favour updated 2023 boundaries. need specify version data want access, “1.3” 2013 boundaries vs latest “2.0” 2023 boundaries. Next need find StatCan Characteristic IDs characteristic interest. download metadata, extract characteristics, locate base characteristic ethnic origin entry referencing “Ukrainian” ’s descendant base characteristic. can also get geographic identifiers federal electoral districts metadata. data comes enriched metadata make working easier, particular CHARACTERISTIC_NAME column contains plain language names. Now can transform data compute percentages. Now can visualize data, top 20 Federal Electoral Districts share population Ukrainian heritage.  map data get geographies. can join census data map .","code":"fed_version = \"1.3\" metadata <- get_statcan_wds_metadata(\"2021\",\"FED\",version=fed_version)  characteristics <- metadata |>    filter(`Codelist en`==\"Characteristic\") |>   mutate(across(c(ID,`Parent ID`),as.integer))  ethnic_base <- characteristics |>    filter(grepl(\"Total - Ethnic\",en)) ukranian <- characteristics |>    filter(grepl(\"Ukrainian\",en), `Parent ID`==ethnic_base$ID)   selected_characteristics <- bind_rows(ethnic_base,ukranian)  selected_characteristics |> select(ID,en) #> # A tibble: 2 × 2 #>      ID en                                                                       #>   <int> <chr>                                                                    #> 1  1684 Total - Ethnic or cultural origin for the population in private househo… #> 2  1694 Ukrainian dguids <- metadata |>   filter(`Codelist ID`==\"CL_GEO_FED\") |>   pull(ID) data <- get_statcan_wds_data(dguids,members=selected_characteristics$ID,                              gender=\"Total\",version=fed_version) plot_data <- data |>    select(DGUID=GEO_DESC,Name=GEO_NAME,name=CHARACTERISTIC_NAME,value=OBS_VALUE) |>   pivot_wider() |>   mutate(Share=Ukrainian/`Total - Ethnic or cultural origin for the population in private households - 25% sample data`) plot_data |> slice_max(Share,n=20) |>   ggplot(aes(y=reorder(Name,Share),x=Share)) +   geom_bar(stat=\"identity\",fill=\"steelblue\") +   scale_x_continuous(labels=scales::percent) +   labs(title=\"Ukrainian ethnic origin\",        y=\"Federal electoral district (2013 Represenation Order)\",        x=\"Share of population in private households\",        caption=\"StatCan Census 2021\") fed_geos <- get_statcan_geographies(\"2021\",\"FED\") fed_geos |>   left_join(plot_data,by=\"DGUID\") |>   ggplot(aes(fill=Share)) +   geom_sf() +   scale_fill_viridis_c(labels=scales::percent) +   coord_sf(datum=NA) +   labs(title=\"Ukrainian ethnic origin by (2013) Federal Electoral District\",        fill=\"Share of\\npopulation\",        caption=\"StatCan Census 2021\")"},{"path":"https://mountainmath.github.io/cancensus/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jens von Bergmann. Author.           API creator maintainer Dmitry Shkolnik. Author, maintainer.           Package maintainer, responsible correspondence Aaron Jacobs. Author.","code":""},{"path":"https://mountainmath.github.io/cancensus/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"von Bergmann, J., Dmitry Shkolnik, Aaron Jacobs (2021). cancensus: R package access, retrieve, work Canadian Census data geography. v0.4.2.","code":"@Manual{,   author = {Jens {von Bergmann} and Dmitry Shkolnik and Aaron Jacobs},   title = {cancensus: R package to access, retrieve, and work with Canadian Census data and geography},   year = {2021},   note = {R package version 0.4.2},   url = {https://mountainmath.github.io/cancensus/}, }"},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"cancensus","dir":"","previous_headings":"","what":"Access, retrieve, and work with Canadian Census data and geography.","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Access, retrieve, work Canadian Census data geography. Download data Census geography tidy analysis-ready format Convenience tools searching working Census regions variable hierarchies Provides Census geography multiple R spatial formats Provides data geography multiple Census geographic levels including province, Census Metropolitan Area, Census Division, Census Subdivision, Census Tract, Dissemination Areas, Enumeration Areas (1996), Dissemination Blocks (2001-2021) Provides data 2021, 2016, 2011, 2006, 2001, 1996 Census releases Access taxfiler data Census Tract level tax years 2000 2018","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"reference","dir":"","previous_headings":"","what":"Reference","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Cancensus home page reference guide","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"installing-the-package","dir":"","previous_headings":"","what":"Installing the package","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Alternatively, latest development version can installed Github.","code":"install.packages(\"cancensus\") library(cancensus) remotes::install_github(\"mountainmath/cancensus\") library(cancensus)"},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"api-key","dir":"","previous_headings":"","what":"API key","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"cancensus requires valid CensusMapper API key use. can obtain free API key signing CensusMapper account. check API key, just go “Edit Profile” (top-right CensusMapper menu bar). key, can store system environment automatically used API calls. just enter set_cancensus_api_key('<your_api_key>', install = TRUE). CensusMapper API keys free public API quotas generous; however, due incremental costs serving large quantities data, limits API usage place. use cases, API limits issue. Production uses large extracts detailed geographies may run API quota limits. new get_intersecting_geometries function separate API quota. functionality puts higher demands server resources API calls therefore comes different bucket. default user keys capped 500 region identifiers day 5000 per month. suffice casual use cases, continue monitor impact server load may increase default limits future. larger quotas, please get touch Jens directly.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"local-cache","dir":"","previous_headings":"","what":"Local Cache","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"performance reasons, avoid unnecessarily drawing API quotas, cancensus caches data queries hood. default, cancensus caches R’s temporary directory, cache persistent across sessions. order speed performance, reduce quota usage, reduce need unnecessary network calls, recommend assigning persistent local cache using set_cancensus_cache_path('<local cache path>', install = TRUE), enables efficient loading reuse downloaded data. Users prompted suggestion change default cache location making API calls one set yet. Starting version 0.5.2 cancensus automatically check data recalled Statistics Canada stored local cache via new data recall API implemented CensusMapper. Statistics Canada occasionally detects corrects errors census data releases, cancensus download list recalled data first invocation get_census() session emit warning detected locally cached data recalled. Removal cached recalled data done explicitly user via remove_recalled_chached_data() function. data cached cancensus versions prior version 0.5.0 insufficient metadata determine instances recalled cached data, package check every time cached data loaded can identify recalled data point latest issues warning recalled data loaded.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"currently-available-datasets","dir":"","previous_headings":"","what":"Currently available datasets","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"cancensus can access Statistics Canada Census data Census years 1996, 2001, 2006, 2011, 2016, 2021. can run list_census_datasets check datasets currently available access CensusMapper API. Thanks contributions Canada Mortgage Housing Corporation (CMHC), cancensus now includes additional Census-linked datasets open-data releases. include annual taxfiler data census tract level tax years 2000 2018, includes data incomes demographics, well specialized crosstabs Structural type dwelling Document type, details occupancy status residences. crosstabs available 2001, 2006, 2011, 2016, 2021 Census years levels starting census tract.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"picking-regions-and-variables","dir":"","previous_headings":"","what":"Picking regions and variables","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Census data contains thousands different geographic regions well thousands unique variables. several useful functions within cancensus simplify accessing Census metadata, locating regions, identifying variables. also interactive tool available CensusMapper API visually select regions variables generate code API call. Calling explore_census_vectors(dataset = \"CA16\") explore_census_regions(dataset = \"CA16\") open new browser window interactive tool, preconfigured whichever Census dataset set argument.","code":"# To view available Census datasets list_census_datasets()  # To view available named regions at different levels of Census hierarchy for the 2016 Census (for example) list_census_regions(\"CA16\")  # To view available Census variables for the 2016 Census list_census_vectors(\"CA16\")"},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"getting-the-data","dir":"","previous_headings":"","what":"Getting the data","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"cancensus can return census data without associated Census geographical information can used mapping GIS. default, cancensus returns tidy tabular data , options return spatial data objects either sf sp formats. cancensus attempts minimize bandwidth usage download time caching downloads. attempting download data previously downloaded, cancensus instead access locally cached equivalent.","code":"# Return data only census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"), level='CSD')  # Return an sf-class data frame census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"), level='CSD', geo_format = \"sf\")"},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"examples-of-work-using-cancensus","dir":"","previous_headings":"","what":"Examples of work using cancensus","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Income: first look Language Diversity Canada Diversity Segregation Canadian cities Census tract level T1FF data ’d love feature examples work projects use cancensus.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"vignettes","dir":"","previous_headings":"","what":"Vignettes","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Getting started cancensus Making maps cancensus Data discovery: resources finding available relevant data Additional datasets: Structural type dwelling document type Additional datasets: Annual T1FF taxfiler data","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"python-port","dir":"","previous_headings":"","what":"Python port","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Python port cancensus available via pycancensus package.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related packages","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"cancensus package designed working Canadian Census data. addition Census data, Statistics Canada provides access vast socio-economic data repository thousands data tables available public access. cansim package designed retrieve work public Statistics Canada data tables. cansim prepares retrieved data tables analysis-ready tidy dataframes provides number convenience tools functions make easier work Statistics Canada data. available CRAN Github. Data retrieved via cansim package can linked census data via GeoUID field. tongfen package automates task obtaining census variables different census years common geography. available Github. cmhc package, accesses CMHC data housing Canada can linked census geographies via GeoUID. Taken together packages offer seamless view important Canadian data.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"international-census-data","dir":"","previous_headings":"","what":"International census data","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"several jurisdiction census data available via R packages, including US: tidycensus tigris Brasil: geobr Africa: afrimapr Brazil: geobr Chile: chilemapas Czech Republic: RCzechia Finland: geofi Ghana: rGhanaCensus Spain: mapSpain UK: geographr Uruguay: geouy Global (political administrative boundaries): rgeoboundaries","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"encourage contributions improve project. best way issues pull requests. want get touch, pretty good responding via email via x/bluesky @dshkol/@dshkol.bsky.social @vb_jens/@jensvb.bsky.social.","code":""},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"cite-cancensus","dir":"","previous_headings":"","what":"Cite cancensus","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"wish cite cancensus: von Bergmann, J., Aaron Jacobs, Dmitry Shkolnik (2025). cancensus: R package access, retrieve, work Canadian Census data geography. v0.5.11. BibTeX entry LaTeX users ","code":"@Manual{cancensus,     author = {Jens {von Bergmann} and Dmitry Shkolnik and Aaron Jacobs},     title = {cancensus: R package to access, retrieve, and work with Canadian Census data and geography},     year = {2025},     doi = {10.32614/CRAN.package.cancensus},     note = {R package version 0.5.11},     url = {https://mountainmath.github.io/cancensus/}   }"},{"path":"https://mountainmath.github.io/cancensus/index.html","id":"statistics-canada-attribution","dir":"","previous_headings":"","what":"Statistics Canada Attribution","title":"Access, retrieve, and work with Canadian Census data and geography.","text":"Subject Statistics Canada Open Data License Agreement, licensed products using Statistics Canada data employ following acknowledgement source:","code":"Acknowledgment of Source  (a) You shall include and maintain the following notice on all licensed rights of the Information:    - Source: Statistics Canada, name of product, reference date. Reproduced and distributed on an \"as is\" basis with the permission of Statistics Canada.  (b) Where any Information is contained within a Value-added Product, you shall include on such Value-added Product the following notice:    - Adapted from Statistics Canada, name of product, reference date. This does not constitute an endorsement by Statistics Canada of this product."},{"path":"https://mountainmath.github.io/cancensus/reference/CODES_TABLE.html","id":null,"dir":"Reference","previous_headings":"","what":"A dataset with code table summaries for census data — CODES_TABLE","title":"A dataset with code table summaries for census data — CODES_TABLE","text":"dataset code table summaries census data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/CODES_TABLE.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"A dataset with code table summaries for census data — CODES_TABLE","text":"https://www12.statcan.gc.ca/census-recensement/2021/geo/ref/domain-domaine/index2021-eng.cfm?lang=e&id=CSDtype, https://www12.statcan.gc.ca/census-recensement/2021/geo/ref/domain-domaine/index2021-eng.cfm?lang=e&id=CDtype","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/CODES_TABLE.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"A dataset with code table summaries for census data — CODES_TABLE","text":"derived StatCan definitions","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/COV_SKYTRAIN_STATIONS.html","id":null,"dir":"Reference","previous_headings":"","what":"A dataset City of Vancouver skytrain station locations — COV_SKYTRAIN_STATIONS","title":"A dataset City of Vancouver skytrain station locations — COV_SKYTRAIN_STATIONS","text":"dataset City Vancouver skytrain station locations","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/COV_SKYTRAIN_STATIONS.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"A dataset City of Vancouver skytrain station locations — COV_SKYTRAIN_STATIONS","text":"https://opendata.vancouver.ca/explore/dataset/rapid-transit-stations/information/","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/COV_SKYTRAIN_STATIONS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"A dataset City of Vancouver skytrain station locations — COV_SKYTRAIN_STATIONS","text":"City Vancouver Open Data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/add_unique_names_to_region_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Convenience function for creating unique names from region list — add_unique_names_to_region_list","title":"Convenience function for creating unique names from region list — add_unique_names_to_region_list","text":"Names municipalities always unique, especially CSD level. function takes input subset regions list generated `list_census_regions()` de-duplicates names needed adding municipal status parenthesis. de-duplicate name geographic identifier added parenthesis behind .","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/add_unique_names_to_region_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convenience function for creating unique names from region list — add_unique_names_to_region_list","text":"","code":"add_unique_names_to_region_list(region_list)"},{"path":"https://mountainmath.github.io/cancensus/reference/add_unique_names_to_region_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convenience function for creating unique names from region list — add_unique_names_to_region_list","text":"region_list subset regions list gotten `list_census_regions()`","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/add_unique_names_to_region_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convenience function for creating unique names from region list — add_unique_names_to_region_list","text":"list regions extra column `Name` de-duplicated names.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/add_unique_names_to_region_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convenience function for creating unique names from region list — add_unique_names_to_region_list","text":"","code":"if (FALSE) { # \\dontrun{ # This will return a warning that no match was found, but will suggest similar named regions. library(dplyr) list_census_regions(\"CA21\") %>%   filter(level==\"CSD\", CMA_UID==\"59933\") %>%   add_unique_names_to_region_list() } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/as_census_region_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a (suitably filtered) data frame from list_census_regions to a list suitable for passing to get_census. — as_census_region_list","title":"Convert a (suitably filtered) data frame from list_census_regions to a list suitable for passing to get_census. — as_census_region_list","text":"Convert (suitably filtered) data frame list_census_regions list suitable passing get_census.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/as_census_region_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a (suitably filtered) data frame from list_census_regions to a list suitable for passing to get_census. — as_census_region_list","text":"","code":"as_census_region_list(tbl)"},{"path":"https://mountainmath.github.io/cancensus/reference/as_census_region_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a (suitably filtered) data frame from list_census_regions to a list suitable for passing to get_census. — as_census_region_list","text":"tbl data frame, suitably filtered, returned list_census_regions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/as_census_region_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a (suitably filtered) data frame from list_census_regions to a list suitable for passing to get_census. — as_census_region_list","text":"","code":"if (FALSE) { # \\dontrun{ library(dplyr, warn.conflicts = FALSE)  # Query the CensusMapper API for the total occupied dwellings # of 20 random Census Subdivisions, in Census 2016. regions <- list_census_regions(\"CA16\") %>%   filter(level == \"CSD\") %>%   sample_n(20) %>%   as_census_region_list()  occupied <- get_census(\"CA16\", regions = regions,                             vectors = c(\"v_CA16_408\"),                             level = \"Regions\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Return Census variable names and labels as a tidy data frame (Deprecated) — census_vectors","title":"Return Census variable names and labels as a tidy data frame (Deprecated) — census_vectors","text":"Return Census variable names labels tidy data frame (Deprecated)","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return Census variable names and labels as a tidy data frame (Deprecated) — census_vectors","text":"","code":"census_vectors(x)"},{"path":"https://mountainmath.github.io/cancensus/reference/census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return Census variable names and labels as a tidy data frame (Deprecated) — census_vectors","text":"x data frame, sp sf object returned get_census similar.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/census_vectors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return Census variable names and labels as a tidy data frame (Deprecated) — census_vectors","text":"data frame column variable containing truncated variable name, column label describing .","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return Census variable names and labels as a tidy data frame (Deprecated) — census_vectors","text":"","code":"if (FALSE) { # \\dontrun{ # Query census data with truncated labels: census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"),                           level='CSD', geo_format = \"sf\", labels=\"short\")  # Get details for truncated vectors: census_vectors(census_data) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/child_census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"List all child variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — child_census_vectors","title":"List all child variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — child_census_vectors","text":"List child variables vector hierarchies given either list Census variables returned list_census_vectors, search_census_vectors, find_census_vectors, direct string reference vector code.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/child_census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all child variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — child_census_vectors","text":"","code":"child_census_vectors(   vector_list,   leaves_only = FALSE,   max_level = NA,   keep_parent = FALSE )"},{"path":"https://mountainmath.github.io/cancensus/reference/child_census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all child variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — child_census_vectors","text":"vector_list list vectors used, either character vector filtered tibble returned list_census_vectors. leaves_only boolean flag indicate final leaf vectors returned, .e. terminal vectors children. max_level optional, maximum depth look child vectors. Default NA return child census vectors. keep_parent optional, also return parent vector list results. Default set FALSE.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/child_census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all child variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — child_census_vectors","text":"","code":"# Query parent vectors directly using vector identifier child_census_vectors(\"v_CA16_2510\") #> # A tibble: 4 × 7 #>   vector      type  label             units  parent_vector aggregation details   #>   <chr>       <fct> <chr>             <fct>  <chr>         <chr>       <chr>     #> 1 v_CA16_2513 Total 0 to 17 years     Number v_CA16_2510   Additive    CA 2016 … #> 2 v_CA16_2519 Total 18 to 64 years    Number v_CA16_2510   Additive    CA 2016 … #> 3 v_CA16_2522 Total 65 years and over Number v_CA16_2510   Additive    CA 2016 … #> 4 v_CA16_2516 Total 0 to 5 years      Number v_CA16_2513   Additive    CA 2016 …  if (FALSE) { # \\dontrun{  # Example using multiple vectors coerced into a list child_census_vectors(c(\"v_CA16_2510\",\"v_CA16_2511\",\"v_CA16_2512\"))  # or, equivalently selected_vectors <- c(\"v_CA16_2510\",\"v_CA16_2511\",\"v_CA16_2512\") child_census_vectors(selected_vectors)  # Example using dplyr and piped arguments library(dplyr, warn.conflicts = FALSE)  list_census_vectors(\"CA16\") %>%   filter(vector == \"v_CA16_2510\") %>%   child_census_vectors(TRUE)  # this will return the equivalent of c(\"v_CA16_2510\", child_census_vectors(\"v_CA16_2510\")) list_census_vectors(\"CA16\") %>%   filter(vector == \"v_CA16_2510\") %>%   child_census_vectors(TRUE, keep_parent = TRUE) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/dataset_attribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Get attribution for datasets — dataset_attribution","title":"Get attribution for datasets — dataset_attribution","text":"Get attribution datasets","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/dataset_attribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get attribution for datasets — dataset_attribution","text":"","code":"dataset_attribution(datasets)"},{"path":"https://mountainmath.github.io/cancensus/reference/dataset_attribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get attribution for datasets — dataset_attribution","text":"datasets Vector dataset identifiers","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/dataset_attribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get attribution for datasets — dataset_attribution","text":"Returns string used attribution given datasets.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/dataset_attribution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get attribution for datasets — dataset_attribution","text":"","code":"if (FALSE) { # \\dontrun{ # Attribution string for the 2006 and 2016 census datasets dataset_attribution(c('CA06','CA16')) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_regions","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_regions","text":"Finding right Census variables regions can complicated. explore_census_vectors(dataset) explore_census_regions(dataset) open new browser page tab interactive Census variable region exploration selection tool Censusmapper.ca website. Interactive tools available CA16, CA11, CA06, CA01 Census datasets geographies.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_regions","text":"","code":"explore_census_regions(dataset = \"CA16\")"},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_regions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_regions","text":"dataset dataset query available vectors, e.g. 'CA16'. Interactive tools available CA16, CA11, CA06, CA01 Census datasets geographies.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_regions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_regions","text":"","code":"if (FALSE) { # \\dontrun{  explore_census_vectors(dataset = \"CA16\")  explore_census_regions(dataset = \"CA11\")  } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_vectors","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_vectors","text":"Finding right Census variables regions can complicated. explore_census_vectors(dataset) explore_census_regions(dataset) open new browser page tab interactive Census variable region exploration selection tool Censusmapper.ca website. Interactive tools available CA16, CA11, CA06, CA01 Census datasets geographies.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_vectors","text":"","code":"explore_census_vectors(dataset = \"CA16\")"},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_vectors","text":"dataset dataset query available vectors, e.g. 'CA16'. Interactive tools available CA16, CA11, CA06, CA01 Census datasets geographies.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/explore_census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interactively browse Census variables and regions on Censusmapper.ca in a new browser window — explore_census_vectors","text":"","code":"if (FALSE) { # \\dontrun{  explore_census_vectors(dataset = \"CA16\")  explore_census_regions(dataset = \"CA11\")  } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/find_census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors","title":"Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors","text":"Query available list Census vectors based label return details including vector code. Default search behaviour expects exact match, keyword semantic searches can used instead setting query_type='keyword' query_type = 'semantic' instead. Keyword search useful looking explore Census vectors based broad themes like \"income\" \"language\". Keyword search separates query unigrams returns Census vectors matching words, ranked incidence matches. Semantic search designed precise searches allowing room error spelling phrasing, well finding closely related vector matches. Semantic search separates query n-grams relies string distance measurement using generalized Levenshtein distance approach. census vectors return population counts segmented Female Male populations, addition total aggregate. default, query matches return matches Total aggregation, can optionally return Female Male aggregations adding type = 'female' type = 'male' parameter.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/find_census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors","text":"","code":"find_census_vectors(query, dataset, type = \"all\", query_type = \"exact\", ...)"},{"path":"https://mountainmath.github.io/cancensus/reference/find_census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors","text":"query term phrase search e.g. 'Oji-cree'. Search queries case insensitive. dataset dataset query available vectors, e.g. 'CA16'. see list available datasets: list_census_datasets() type One '', 'total', 'male' 'female'. specified, return aggregations specified `type`. default, 'total' aggregation returned. query_type One exact, 'semantic' 'keyword'. default, assumes exact string matching, alternatives may better options cases. See description section details query types. ... arguments passed internal functions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/find_census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the CensusMapper API for vectors using exact, semantic, or keyword search — find_census_vectors","text":"","code":"if (FALSE) { # \\dontrun{ find_census_vectors('Oji-cree', dataset = 'CA16', type = 'total', query_type = 'exact')  find_census_vectors('commuting duration', dataset = 'CA11', type = 'female', query_type = 'keyword')  find_census_vectors('after tax income', dataset = 'CA16', type = 'total', query_type = 'semantic')  # This incorrect spelling will return a warning that no match was found, # but will suggest trying semantic or keyword search. find_census_vectors('Ojibwey', dataset = 'CA16', type = 'total')  # This will find near matches as well find_census_vectors('Ojibwey', dataset = 'CA16', type = 'total', query_type = \"semantic\")  find_census_vectors('commute duration', dataset = 'CA16', type = 'female', query_type = 'keyword')  find_census_vectors('commute duration', dataset = 'CA11', type = 'all', query_type = 'keyword')  find_census_vectors('ukrainian origin', dataset = 'CA16', type = 'total', query_type = 'keyword')  } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_census.html","id":null,"dir":"Reference","previous_headings":"","what":"Access to Canadian census data through the CensusMapper API — get_census","title":"Access to Canadian census data through the CensusMapper API — get_census","text":"function allows convenient access Canadian census data boundary files CensusMapper API. API key required retrieve data.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access to Canadian census data through the CensusMapper API — get_census","text":"","code":"get_census(   dataset,   regions,   level = NA,   vectors = c(),   geo_format = NA,   resolution = \"simplified\",   labels = \"detailed\",   use_cache = TRUE,   quiet = FALSE,   api_key = Sys.getenv(\"CM_API_KEY\") )"},{"path":"https://mountainmath.github.io/cancensus/reference/get_census.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Access to Canadian census data through the CensusMapper API — get_census","text":"Census data boundary geographies reproduced distributed \"\" basis permission Statistics Canada (Statistics Canada 1996; 2001; 2006; 2011; 2016).","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access to Canadian census data through the CensusMapper API — get_census","text":"dataset CensusMapper dataset identifier. regions named list census regions retrieve. Names must valid census aggregation levels. level census aggregation level retrieve, defaults \"Regions\". One \"Regions\", \"PR\", \"CMA\", \"CD\", \"CSD\", \"CT\", \"DA\", \"EA\" (1996), \"DB\" (2001-2016). vectors R vector containing CensusMapper variable names census variables download. vectors specified geographic data get downloaded. geo_format default set NA appends geographic information. include geographic information census data, specify one either \"sf\" return sf object (requires sf package) \"sp\" return SpatialPolygonsDataFrame-class object (requires rgdal package). user requests geo-spatial data neither package available, context menu prompt install sf package. resolution Resolution geographic data. default simplified geometries download. lower level geometries like DB DA close high resolution data. Simplification generally increases geographic aggregation level increases. high resolution geometries required option can set 'high'. default setting set 'simplified'. labels Set \"detailed\" default, truncated Census variable names can selected setting labels = \"short\". Use label_vectors(...) return variable label information detail. use_cache set TRUE (default) data read local cache available. quiet TRUE, suppress messages warnings. api_key API key CensusMapper API. Defaults options() CM_API_KEY environment variable.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Access to Canadian census data through the CensusMapper API — get_census","text":"help selecting regions vectors, see list_census_regions list_census_vectors, check interactive selection tool https://censusmapper.ca/api calling explore_census_vectors()","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access to Canadian census data through the CensusMapper API — get_census","text":"","code":"# Query the API for data on dwellings in Vancouver, at the census subdivision # level: if (FALSE) { # \\dontrun{ census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"),                           level='CSD')  # Query the API for data on dwellings in Vancouver, at the census subdivision # level, and return the associated geography files in \\code{sf} format: census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"),                           level='CSD', geo_format = \"sf\")  # Make the same query, but this time drop descriptive vector names: census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"),                           level='CSD', geo_format = \"sf\", labels=\"short\")  # Get details for truncated vectors: label_vectors(census_data) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_census_geometry.html","id":null,"dir":"Reference","previous_headings":"","what":"Deprecated, use `get_census` instead — get_census_geometry","title":"Deprecated, use `get_census` instead — get_census_geometry","text":"function removed future versions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census_geometry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deprecated, use `get_census` instead — get_census_geometry","text":"","code":"get_census_geometry(dataset, regions, level = NA, geo_format = \"sf\", ...)"},{"path":"https://mountainmath.github.io/cancensus/reference/get_census_geometry.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Deprecated, use `get_census` instead — get_census_geometry","text":"Census data boundary geographies reproduced distributed \"\" basis permission Statistics Canada (Statistics Canada 2006; 2011; 2016).","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census_geometry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Deprecated, use `get_census` instead — get_census_geometry","text":"dataset CensusMapper dataset identifier. regions named list census regions retrieve. Names must valid census aggregation levels. level census aggregation level retrieve, defaults \"Regions\". One \"Regions\", \"PR\", \"CMA\", \"CD\", \"CSD\", \"CT\" \"DA\". geo_format default set NA appends geographic information. include geographic information census data, specify one either \"sf\" return sf object (requires sf package) \"sp\" return SpatialPolygonsDataFrame-class object (requires rgdal package). ... arguments passed get_census.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_census_geometry.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Deprecated, use `get_census` instead — get_census_geometry","text":"","code":"# Query the API for data geographies in Vancouver, at the census subdivision # level: if (FALSE) { # \\dontrun{ # Query the API for geographies in Vancouver, at the census subdivision # level, and return the associated geography files in \\code{sf} format: census_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           level='CSD', geo_format = \"sf\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_intersecting_geometries.html","id":null,"dir":"Reference","previous_headings":"","what":"Get identifiers for census regions intersecting a geometry — get_intersecting_geometries","title":"Get identifiers for census regions intersecting a geometry — get_intersecting_geometries","text":"function returns list regions intersect given geometry input. list regions can used directly query census one interested census data particular geographic region coincide defined census geometries. returned value can used regions parameter get_census get corresponding census geographies variables cover give geometry. Input spatial objects can sf sfc class objects POINT, MULTIPOINT POLYGON. function comes CensusMapper API limits","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_intersecting_geometries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get identifiers for census regions intersecting a geometry — get_intersecting_geometries","text":"","code":"get_intersecting_geometries(   dataset,   level,   geometry,   simplified = FALSE,   use_cache = TRUE,   quiet = FALSE,   api_key = Sys.getenv(\"CM_API_KEY\") )"},{"path":"https://mountainmath.github.io/cancensus/reference/get_intersecting_geometries.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get identifiers for census regions intersecting a geometry — get_intersecting_geometries","text":"Census data boundary geographies reproduced distributed \"\" basis permission Statistics Canada (Statistics Canada 1996; 2001; 2006; 2011; 2016).","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_intersecting_geometries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get identifiers for census regions intersecting a geometry — get_intersecting_geometries","text":"dataset CensusMapper dataset identifier. level census aggregation level retrieve. One \"Regions\", \"PR\", \"CMA\", \"CD\", \"CSD\", \"CT\", \"DA\", \"EA\" (1996 census), \"DB\" (2001-2016 censuses).. geometry valid sf sfc class object. long geometry valid, projection accepted. Objects reprojected server-side intersections use lat/lon projection. simplified TRUE return region list compatible get_census, otherwise return character vector matching region ids. use_cache set TRUE (default) data read local cache available. quiet TRUE, suppress messages warnings. api_key API key CensusMapper API. Defaults options() CM_API_KEY environment variable.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_intersecting_geometries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get identifiers for census regions intersecting a geometry — get_intersecting_geometries","text":"","code":"if (FALSE) { # \\dontrun{ # Example using a POINT-class object from a pair of lat/lon coordinates point_geo <- sf::st_sfc(sf::st_point(c(-123.25149, 49.27026)), crs=4326) regions <- get_intersecting_geometries(dataset = 'CA16', level = 'CT', geometry = point_geo) census_data <- get_census(dataset='CA16', regions=regions,                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"),                           level='CT')  # Example using a POLYGON-class object from a bounding box with four coordinates poly_geo <- sf::st_as_sfc(sf::st_bbox(c(ymin = 49.25, ymax = 49.30,                           xmin = -123.25, xmax = -123.30)), crs = 4326) regions <- get_intersecting_geometries(dataset = 'CA16', level = 'CT', geometry = poly_geo) census_data <- get_census(dataset='CA16', regions=regions,                          vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"), level='CT')  } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_recalled_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Get metadata for recalled data — get_recalled_database","title":"Get metadata for recalled data — get_recalled_database","text":"Grabs recall data server needed returns list recalled data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_recalled_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get metadata for recalled data — get_recalled_database","text":"","code":"get_recalled_database(refresh = FALSE, warn_only_once = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/get_recalled_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get metadata for recalled data — get_recalled_database","text":"refresh force refresh recalled database warn_only_once warn first run, `FALSE` default","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_recalled_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get metadata for recalled data — get_recalled_database","text":"tibble rows describing recalled data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_recalled_database.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get metadata for recalled data — get_recalled_database","text":"","code":"if (FALSE) { # \\dontrun{ get_recalled_database() } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geo_suite.html","id":null,"dir":"Reference","previous_headings":"","what":"Read the geosuite data — get_statcan_geo_suite","title":"Read the geosuite data — get_statcan_geo_suite","text":"Reads geosuite data given level census year. Data gets cached first download cancensus cache path set. older years `get_statcan_geographic_attributes()` can fill information","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geo_suite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read the geosuite data — get_statcan_geo_suite","text":"","code":"get_statcan_geo_suite(level, census_year = \"2021\", refresh = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geo_suite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read the geosuite data — get_statcan_geo_suite","text":"level geographic level return data , valid choices \"DB\", \"DA\", \"ADA\", \"CT\", \"CSD\", \"CMA\", \"CD\", \"PR\", \"FED\", \"DPL\", \"ER\", \"PN\", \"POPCTR\" census_year census year get data , right now 2021 supported refresh (logical) refresh cache true","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geo_suite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read the geosuite data — get_statcan_geo_suite","text":"tibble geosuite data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geo_suite.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read the geosuite data — get_statcan_geo_suite","text":"","code":"# list add the cached census data if (FALSE) { # \\dontrun{ get_statcan_geo_suite(\"DA\",\"2021\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographic_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"Read the Geographic Attributes File — get_statcan_geographic_attributes","title":"Read the Geographic Attributes File — get_statcan_geographic_attributes","text":"Reads Geographies Attributes File given census year. table contains information geographic levels related area, population, dwelling household counts. Data gets cached first download cancensus cache path set. reference guide available https://www150.statcan.gc.ca/n1/en/catalogue/92-151-G2021001","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographic_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read the Geographic Attributes File — get_statcan_geographic_attributes","text":"","code":"get_statcan_geographic_attributes(census_year = \"2021\", refresh = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographic_attributes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read the Geographic Attributes File — get_statcan_geographic_attributes","text":"census_year census year get data , right now 2006, 2011, 2016, 2021 supported refresh (logical) refresh cache true","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographic_attributes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read the Geographic Attributes File — get_statcan_geographic_attributes","text":"tibble relationship data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographic_attributes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read the Geographic Attributes File — get_statcan_geographic_attributes","text":"","code":"# list add the cached census data if (FALSE) { # \\dontrun{ get_statcan_geographic_attributes(\"2021\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographies.html","id":null,"dir":"Reference","previous_headings":"","what":"Read the geosuite data — get_statcan_geographies","title":"Read the geosuite data — get_statcan_geographies","text":"Reads original unprocessed geographic boundary files Statistics Canada","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read the geosuite data — get_statcan_geographies","text":"","code":"get_statcan_geographies(   census_year,   level,   type = \"cartographic\",   cache_path = NULL,   timeout = 1000,   refresh = FALSE,   quiet = FALSE )"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read the geosuite data — get_statcan_geographies","text":"census_year census year get data , right now 2021 supported level geographic level return data , valid choices \"PR\",\"CD\",\"CMACA\",\"CSD\",\"CT\",\"ADA\",\"DA\",\"DB,\"ER\",\"FED\",\"DPL\",\"POPCNTR\", \"FSA\", \"HR\" type type geographic data, valid choices area \"cartographic\" \"digital\" cache_path optional path cache data. cancensus cache path set geographic data gets cached \"geographies\" subdirectory cancensus cache path. timeout optional timeout parameter, adjust needed data download times using slow connections refresh (logical) refresh cache true quiet (logical) suppress messages `TRUE`","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read the geosuite data — get_statcan_geographies","text":"spatial dataframe geographic data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geographies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read the geosuite data — get_statcan_geographies","text":"","code":"# get the digital geographic boundaries for provinces and territories if (FALSE) { # \\dontrun{ get_statcan_geographies(census_year=\"2021\",level=\"PR\",type=\"digital\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geography_relationships.html","id":null,"dir":"Reference","previous_headings":"","what":"Read the Dissemination Geographies Relationship File — get_statcan_geography_relationships","title":"Read the Dissemination Geographies Relationship File — get_statcan_geography_relationships","text":"Reads Dissemination Geographies Relationship File given census year. table contains information geographic levels related area. Data gets cached first download cancensus cache path set. reference guide available https://www150.statcan.gc.ca/n1/en/catalogue/982600032021001","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geography_relationships.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read the Dissemination Geographies Relationship File — get_statcan_geography_relationships","text":"","code":"get_statcan_geography_relationships(census_year = \"2021\", refresh = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geography_relationships.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read the Dissemination Geographies Relationship File — get_statcan_geography_relationships","text":"census_year census year get data , right now 2021 supported, older years `get_statcan_geographic_attributes()` can fill information refresh (logical) refresh cache true","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geography_relationships.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read the Dissemination Geographies Relationship File — get_statcan_geography_relationships","text":"tibble relationship data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_geography_relationships.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read the Dissemination Geographies Relationship File — get_statcan_geography_relationships","text":"","code":"# list add the cached census data if (FALSE) { # \\dontrun{ get_statcan_geography_relationships(\"2021\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the StatCan WDS for data — get_statcan_wds_data","title":"Query the StatCan WDS for data — get_statcan_wds_data","text":"Get official census data Statistics Canada given set DGUIDs. available 2021 census. downloaded data gets enriched geographic characteristic names based metadata obtained via `get_statcan_wds_metadata()`. Data cached duration R session.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the StatCan WDS for data — get_statcan_wds_data","text":"","code":"get_statcan_wds_data(   DGUIDs,   members = NULL,   version = NULL,   gender = \"All\",   language = \"en\",   refresh = FALSE )"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the StatCan WDS for data — get_statcan_wds_data","text":"DGUIDs census year get data , right now 2021 supported. Valid DGUIDs given geographic level can queried via `get_statcan_wds_metadata()`. members list Member IOs download data . default characteristics downloaded. Valid Member IDs descriptions can queried via `get_statcan_wds_metadata()` call. version optionally specify version data download. example, FED level data, version 1.3 access 2013 represenation order, whereas version 2.0 access 2023 representation order. default latest available version accessed. gender optionally query data one gender. default queries data genders, possible values \"Total\", \"Male\", \"Female\" query total data, males females . language specify language geography characteristic names get added, valid choices \"en\" \"fr\" refresh default `FALSE` refresh temporary cache `TRUE`","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the StatCan WDS for data — get_statcan_wds_data","text":"tibble enriched census data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the StatCan WDS for data — get_statcan_wds_data","text":"","code":"# get data for federal electoral district 2013A000459021 if (FALSE) { # \\dontrun{ get_statcan_wds_data(DGUIDs=\"2013A000459021\",level=\"FED\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the StatCan WDS for metadata — get_statcan_wds_metadata","title":"Query the StatCan WDS for metadata — get_statcan_wds_metadata","text":"Get official metadata information Statistics Canada given geographic level. available 2021 census. Data cached duration R session.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the StatCan WDS for metadata — get_statcan_wds_metadata","text":"","code":"get_statcan_wds_metadata(census_year, level, version = NULL, refresh = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the StatCan WDS for metadata — get_statcan_wds_metadata","text":"census_year census year get data , right now 2021 supported level geographic level return data , valid choices \"PR\",\"CD\",\"CMACA\",\"CSD\",\"CT\",\"ADA\",\"DA\",\"ER\",\"FED\",\"DPL\",\"POPCNTR\", \"FSA\", \"HR\" version optionally specify version data download. example, FED level data, version 1.3 access 2013 represenation order, whereas version 2.0 access 2023 representation order. default latest available version accessed. refresh default `FALSE` refresh temporary cache `TRUE`","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the StatCan WDS for metadata — get_statcan_wds_metadata","text":"tibble metadata","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/get_statcan_wds_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the StatCan WDS for metadata — get_statcan_wds_metadata","text":"","code":"# get metadata for federal electoral districts if (FALSE) { # \\dontrun{ get_statcan_wds_metadata(census_year=\"2021\",level=\"FED\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/label_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Return Census variable names and labels as a tidy data frame — label_vectors","title":"Return Census variable names and labels as a tidy data frame — label_vectors","text":"Return Census variable names labels tidy data frame","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/label_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return Census variable names and labels as a tidy data frame — label_vectors","text":"","code":"label_vectors(x)"},{"path":"https://mountainmath.github.io/cancensus/reference/label_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return Census variable names and labels as a tidy data frame — label_vectors","text":"x data frame, sp sf object returned get_census similar.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/label_vectors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return Census variable names and labels as a tidy data frame — label_vectors","text":"data frame column variable containing truncated variable name, column label describing .","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/label_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return Census variable names and labels as a tidy data frame — label_vectors","text":"","code":"if (FALSE) { # \\dontrun{ # Query census data with truncated labels: label_data <- get_census(dataset='CA16', regions=list(CMA=\"59933\"),                           vectors=c(\"v_CA16_408\",\"v_CA16_409\",\"v_CA16_410\"),                           level='CSD', geo_format = \"sf\", labels=\"short\")  # Get details for truncated vectors: label_vectors(label_data) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/list_cancensus_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"List cached files — list_cancensus_cache","title":"List cached files — list_cancensus_cache","text":"Lists cached data metadata available","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_cancensus_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List cached files — list_cancensus_cache","text":"","code":"list_cancensus_cache()"},{"path":"https://mountainmath.github.io/cancensus/reference/list_cancensus_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List cached files — list_cancensus_cache","text":"tibble metadata cached data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_cancensus_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List cached files — list_cancensus_cache","text":"","code":"# list add the cached census data list_cancensus_cache() #> # A tibble: 3,768 × 11 #>    path          dataset regions level vectors created_at          version  size #>    <chr>         <chr>   <chr>   <chr> <chr>   <dttm>              <chr>   <dbl> #>  1 CM_data_0008… CA16    \"{\\\"CS… Regi… \"[\\\"v_… 2023-06-14 15:39:12 d.4       874 #>  2 CM_data_0017… CA16    \"{\\\"CS… Regi… \"[\\\"v_… 2023-05-24 18:34:54 d.4       516 #>  3 CM_data_0023… CA11    \"{\\\"CS… Regi… \"[\\\"v_… 2023-05-16 21:46:25 d.4       485 #>  4 CM_data_0039… CA21    \"{\\\"CS… Regi… \"[\\\"v_… 2023-05-24 19:32:51 d.4       533 #>  5 CM_data_003f… CA16    \"{\\\"C\\… Regi… \"[\\\"v_… 2024-08-19 21:17:18 d.4      1902 #>  6 CM_data_0054… CA21    \"{\\\"CS… DA    \"[\\\"v_… 2023-08-28 15:19:19 d.4       620 #>  7 CM_data_0056… CA16    \"{\\\"CS… Regi… \"[\\\"v_… 2023-05-24 18:32:15 d.4       525 #>  8 CM_data_006c… CA21    \"{\\\"CS… Regi… \"[\\\"v_… 2023-05-24 18:29:31 d.4       529 #>  9 CM_data_007f… CA21    \"{\\\"CM… Regi… \"[]\"    2023-01-26 07:18:01 d.4      1882 #> 10 CM_data_0084… CA16    \"{\\\"CS… Regi… \"[\\\"v_… 2023-06-14 15:32:37 d.4       707 #> # ℹ 3,758 more rows #> # ℹ 3 more variables: last_accessed <dttm>, access_count <dbl>, #> #   resolution <chr>"},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the CensusMapper API for available datasets. — list_census_datasets","title":"Query the CensusMapper API for available datasets. — list_census_datasets","text":"Query CensusMapper API available datasets.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the CensusMapper API for available datasets. — list_census_datasets","text":"","code":"list_census_datasets(use_cache = TRUE, quiet = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the CensusMapper API for available datasets. — list_census_datasets","text":"use_cache set TRUE (default), data read temporary local cache duration R session, available. set FALSE, query API data, refresh temporary cache result. quiet TRUE, suppress messages warnings.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the CensusMapper API for available datasets. — list_census_datasets","text":"Returns data frame column dataset containing code dataset, column description describing , geo_dataset column identifying geography dataset data based , attribution column attribution string, reference column reference identifier, reference_url column link reference materials.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the CensusMapper API for available datasets. — list_census_datasets","text":"","code":"# List available datasets in CensusMapper if (FALSE) { # \\dontrun{ list_census_datasets() } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the CensusMapper API for available regions in a given dataset. — list_census_regions","title":"Query the CensusMapper API for available regions in a given dataset. — list_census_regions","text":"Query CensusMapper API available regions given dataset.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the CensusMapper API for available regions in a given dataset. — list_census_regions","text":"","code":"list_census_regions(dataset, use_cache = TRUE, quiet = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_regions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the CensusMapper API for available regions in a given dataset. — list_census_regions","text":"dataset dataset query available regions, e.g. \"CA16\". use_cache set TRUE (default), data read local cache maintained duration R session, available. set FALSE, query API data, refresh local cache result. quiet TRUE, suppress messages warnings.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_regions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the CensusMapper API for available regions in a given dataset. — list_census_regions","text":"Returns data frame following columns: region region identifier. name name region. level census aggregation level region. pop population region. municipal_status Additional identifiers distinguish     municipal status census subdivisions. CMA_UID identifier Census Metropolitan Area region (). CD_UID identifier Census District region (). PR_UID identifier Province region (unique).","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_regions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the CensusMapper API for available regions in a given dataset. — list_census_regions","text":"","code":"if (FALSE) { # \\dontrun{ list_census_regions('CA16') } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the CensusMapper API for available vectors for a given dataset. — list_census_vectors","title":"Query the CensusMapper API for available vectors for a given dataset. — list_census_vectors","text":"Query CensusMapper API available vectors given dataset.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the CensusMapper API for available vectors for a given dataset. — list_census_vectors","text":"","code":"list_census_vectors(dataset, use_cache = TRUE, quiet = TRUE)"},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the CensusMapper API for available vectors for a given dataset. — list_census_vectors","text":"dataset dataset query available vectors, e.g. \"CA16\". use_cache set TRUE (default), data read local cache maintained duration R session, available. set FALSE, query API data, refresh local cache result. quiet FALSE, shows messages warnings. Set TRUE default.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_vectors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the CensusMapper API for available vectors for a given dataset. — list_census_vectors","text":"Returns data frame detailing available Census vectors (.e. variables) given Census dataset. data frame columns vector containing short code variable, type describing whether female, male, total aggregate, label indicating name variable, units indicating whether value represents numeric integer, percentage, dollar figure, ratio, parent_vector show hierarchical relationship, aggregation indicating whether value additive transformation, column details detailed description variable generated traversing labels within hierarchical structure.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the CensusMapper API for available vectors for a given dataset. — list_census_vectors","text":"","code":"if (FALSE) { # \\dontrun{ # List all vectors for a given Census dataset in CensusMapper list_census_vectors('CA16') } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/list_recalled_cached_data.html","id":null,"dir":"Reference","previous_headings":"","what":"List recalled data stored in local cache — list_recalled_cached_data","title":"List recalled data stored in local cache — list_recalled_cached_data","text":"Checks local cached database recalled data lists recalled cached entries","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_recalled_cached_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List recalled data stored in local cache — list_recalled_cached_data","text":"","code":"list_recalled_cached_data(   cached_data = list_cancensus_cache(),   warn_only_once = FALSE )"},{"path":"https://mountainmath.github.io/cancensus/reference/list_recalled_cached_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List recalled data stored in local cache — list_recalled_cached_data","text":"cached_data List locally cached data check recall, default `list_cancensus_cache()` case get checked locally cached data warn_only_once warn first run session, `FALSE` default","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_recalled_cached_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List recalled data stored in local cache — list_recalled_cached_data","text":"tibble rows describing locally cached recalled data","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/list_recalled_cached_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List recalled data stored in local cache — list_recalled_cached_data","text":"","code":"if (FALSE) { # \\dontrun{ list_recalled_cached_data() } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/parent_census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"List all parent variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — parent_census_vectors","title":"List all parent variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — parent_census_vectors","text":"List parent variables vector hierarchies given either list Census variables returned list_census_vectors, search_census_vectors, find_census_vectors, direct string reference vector code.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/parent_census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all parent variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — parent_census_vectors","text":"","code":"parent_census_vectors(vector_list)"},{"path":"https://mountainmath.github.io/cancensus/reference/parent_census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all parent variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — parent_census_vectors","text":"vector_list list vectors used, either character vector filtered tibble returned list_census_vectors.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/parent_census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all parent variables from vector hierarchies given either a list of Census variables returned by list_census_vectors, search_census_vectors, find_census_vectors, or a direct string reference to the vector code. — parent_census_vectors","text":"","code":"# Query parent vectors directly using vector identifier parent_census_vectors(\"v_CA16_2519\") #> # A tibble: 1 × 7 #>   vector      type  label                units parent_vector aggregation details #>   <chr>       <fct> <chr>                <fct> <chr>         <chr>       <chr>   #> 1 v_CA16_2510 Total Total - Low-income … Numb… NA            Additive    CA 201… if (FALSE) { # \\dontrun{ # Example using multiple vectors coerced into a list parent_census_vectors(c(\"v_CA16_2519\",\"v_CA16_2520\",\"v_CA16_2521\"))  # or, equivalently selected_vectors <- c(\"v_CA16_2519\",\"v_CA16_2520\",\"v_CA16_2521\") parent_census_vectors(selected_vectors)  # Example using dplyr and piped arguments library(dplyr, warn.conflicts = FALSE)  list_census_vectors(\"CA16\") %>%   filter(vector == \"v_CA16_2519\") %>%   parent_census_vectors() } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/remove_from_cancensus_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove cached files — remove_from_cancensus_cache","title":"Remove cached files — remove_from_cancensus_cache","text":"Remove cached data paths given","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/remove_from_cancensus_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove cached files — remove_from_cancensus_cache","text":"","code":"remove_from_cancensus_cache(paths)"},{"path":"https://mountainmath.github.io/cancensus/reference/remove_from_cancensus_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove cached files — remove_from_cancensus_cache","text":"paths list paths remove, returned path column `list_cancensus_cache`","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/remove_from_cancensus_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove cached files — remove_from_cancensus_cache","text":"freed-disk space","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/remove_from_cancensus_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove cached files — remove_from_cancensus_cache","text":"","code":"if (FALSE) { # \\dontrun{ # remove the first cached dataset cache_data <- list_cancensus_cache()  remove_from_cancensus_cache(cache_data$path[1]) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/remove_recalled_cached_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove recalled data from local cache — remove_recalled_cached_data","title":"Remove recalled data from local cache — remove_recalled_cached_data","text":"Checks local cached database recalled data removes cached data recalled","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/remove_recalled_cached_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove recalled data from local cache — remove_recalled_cached_data","text":"","code":"remove_recalled_cached_data()"},{"path":"https://mountainmath.github.io/cancensus/reference/remove_recalled_cached_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove recalled data from local cache — remove_recalled_cached_data","text":"Storage size removed locally cached data got freed number bytes.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/remove_recalled_cached_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove recalled data from local cache — remove_recalled_cached_data","text":"","code":"if (FALSE) { # \\dontrun{ remove_recalled_cached_data() } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the CensusMapper API for regions with names matching a searchterm. — search_census_regions","title":"Query the CensusMapper API for regions with names matching a searchterm. — search_census_regions","text":"Runs query CensusMapper API retrieve region data names matching specific queries. Users can optionally specify target geography level (e.g. level = 'CMA', level = 'CSD', etc.). Alternatively, calling explore_census_vectors() launch interactive region selection tool CensusMapper site new web page tab.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the CensusMapper API for regions with names matching a searchterm. — search_census_regions","text":"","code":"search_census_regions(searchterm, dataset, level = NA, ...)"},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_regions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the CensusMapper API for regions with names matching a searchterm. — search_census_regions","text":"searchterm term search e.g. \"Victoria\". Search terms case insensitive. unable find given search term, function suggest correct spelling use possible. dataset dataset query available regions, e.g. \"CA16\". level One NA, 'C', 'PR', 'CMA', 'CD', 'CSD'. specified, return variables specified `level`. ... arguments passed list_census_regions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_regions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the CensusMapper API for regions with names matching a searchterm. — search_census_regions","text":"census region list format `list_census_regions()` containing matches.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_regions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the CensusMapper API for regions with names matching a searchterm. — search_census_regions","text":"","code":"if (FALSE) { # \\dontrun{ # This will return a warning that no match was found, but will suggest similar named regions. search_census_regions('Victorea', 'CA16')  # This will limit region results to only include CMA level regions search_census_regions('Victoria', 'CA16', level = \"CMA\") } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the CensusMapper API for vectors with descriptions matching a search term or phrase (deprecated) — search_census_vectors","title":"Query the CensusMapper API for vectors with descriptions matching a search term or phrase (deprecated) — search_census_vectors","text":"Query CensusMapper API vectors descriptions matching search term phrase (deprecated)","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the CensusMapper API for vectors with descriptions matching a search term or phrase (deprecated) — search_census_vectors","text":"","code":"search_census_vectors(searchterm, dataset, type = NA, ...)"},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the CensusMapper API for vectors with descriptions matching a search term or phrase (deprecated) — search_census_vectors","text":"searchterm term phrase search e.g. \"Ojibway\". Search terms case insensitive. unable find given string, function suggest similarly named objects. dataset dataset query available vectors, e.g. \"CA16\". type One NA, 'Total', 'Male' 'Female'. specified, return variables specified `type`. ... arguments passed list_census_vectors.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/search_census_vectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query the CensusMapper API for vectors with descriptions matching a search term or phrase (deprecated) — search_census_vectors","text":"","code":"if (FALSE) { # \\dontrun{ search_census_vectors('Ojibway', 'CA16')  # This will return a warning that no match was found, but will suggest similar terms. search_census_vectors('Ojibwe', 'CA16', 'Total') } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_api_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Censusmapper API key — set_cancensus_api_key","title":"Set Censusmapper API key — set_cancensus_api_key","text":"Cancensus requires free Censusmapper API key retrieve data. function helps set key either duration session (default) permanently use across sessions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_api_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Censusmapper API key — set_cancensus_api_key","text":"","code":"set_cancensus_api_key(key, overwrite = FALSE, install = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_api_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Censusmapper API key — set_cancensus_api_key","text":"key Censusmapper API key. information keys see API key section overwrite Option overwrite existing Censusmapper keys already stored locally. install Option install permanently use across sessions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_api_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Censusmapper API key — set_cancensus_api_key","text":"","code":"if (FALSE) { # \\dontrun{ set_cancensus_api_key(\"YOUR_CM_API_KEY\")  # This will set the key permanently until overwritten again set_cancensus_api_key(\"YOUR_CM_API_KEY\", install = TRUE) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Set persistent cancensus cache location — set_cancensus_cache_path","title":"Set persistent cancensus cache location — set_cancensus_cache_path","text":"Cancensus provides session caching retrieved data increase speeds reduce API usage. function create persistent cache across sessions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set persistent cancensus cache location — set_cancensus_cache_path","text":"","code":"set_cancensus_cache_path(cache_path, overwrite = FALSE, install = FALSE)"},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set persistent cancensus cache location — set_cancensus_cache_path","text":"cache_path local directory use saving cached data overwrite Option overwrite existing cache path already stored locally. install Option install permanently use across sessions.","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/set_cancensus_cache_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set persistent cancensus cache location — set_cancensus_cache_path","text":"","code":"if (FALSE) { # \\dontrun{ set_cancensus_cache_path(\"~/cancensus_cache\")  # This will set the cache path permanently until overwritten again set_cancensus_cache_path(\"~/cancensus_cache\", install = TRUE) } # }"},{"path":"https://mountainmath.github.io/cancensus/reference/show_cancensus_api_key.html","id":null,"dir":"Reference","previous_headings":"","what":"View saved Censusmapper API key — show_cancensus_api_key","title":"View saved Censusmapper API key — show_cancensus_api_key","text":"View saved API key'","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/show_cancensus_api_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"View saved Censusmapper API key — show_cancensus_api_key","text":"","code":"show_cancensus_api_key()"},{"path":"https://mountainmath.github.io/cancensus/reference/show_cancensus_api_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"View saved Censusmapper API key — show_cancensus_api_key","text":"","code":"show_cancensus_api_key() #> [1] \"CensusMapper_35a3f7b84c69a42e16cef324d1424062\""},{"path":"https://mountainmath.github.io/cancensus/reference/show_cancensus_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"View saved cache directory path — show_cancensus_cache_path","title":"View saved cache directory path — show_cancensus_cache_path","text":"View saved cache path'","code":""},{"path":"https://mountainmath.github.io/cancensus/reference/show_cancensus_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"View saved cache directory path — show_cancensus_cache_path","text":"","code":"show_cancensus_cache_path()"},{"path":"https://mountainmath.github.io/cancensus/reference/show_cancensus_cache_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"View saved cache directory path — show_cancensus_cache_path","text":"","code":"show_cancensus_cache_path() #> [1] \"/Users/jens/data/cancensus.data\""},{"path":[]},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"performance-improvements-0-5-11","dir":"Changelog","previous_headings":"","what":"Performance Improvements","title":"cancensus 0.5.11","text":"parent_census_vectors() now 1.9x faster (92% speedup) caching full vector list instead repeated lookups child_census_vectors() now 1.2x faster (23% speedup) optimization Replaced O(n²) rbind operations loops efficient list accumulation Deep hierarchies (8+ levels) see improvement N-gram generation now 1.4x faster (30-40% speedup) Optimized text processing pre-allocated vectors Better performance query types lengths","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"testing--quality-0-5-11","dir":"Changelog","previous_headings":"","what":"Testing & Quality","title":"cancensus 0.5.11","text":"Added comprehensive test suite 43 unit tests New tests/testthat/ directory structure optimizations maintain 100% backward compatibility breaking changes function signatures behavior Added microbenchmark testthat Suggests","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-0510","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.10","title":"cancensus 0.5.10","text":"CRAN release: 2025-11-05 ensure cancensus won’t trigger CRAN check errors StatCan servers replace shorthand function regular function definition address CRAN note","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-058","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.8","title":"cancensus 0.5.8","text":"clarify installing API key cache path “getting started” vignette fix caching problem get_statcan_wds_data support health region level census data 2021 via WDS support download dissemination block geographies StatCan >>>>>>> main","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-057","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.7","title":"cancensus 0.5.7","text":"CRAN release: 2024-02-10 fix issue path names quoted properly downoading unpacking geosuite data support versions WDS data, paricular federal electoral districts","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-056","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.6","title":"cancensus 0.5.6","text":"CRAN release: 2023-10-04 fix issue using named vectors query data non-existent geographies, return NULL case instead throwing error fix problem population centre geographic data download support newly released Forward Sortation Area geography statcan geography WDS functionality remove instances new native R pipe |> dplyr pipe %>% preserve compatibility older R versions","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-055","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.5","title":"cancensus 0.5.5","text":"CRAN release: 2023-01-23 add functionality direct access StatCan census WDS 2021 add functionality download original StatCan geographies 2021 update CODES_TABLE 2021 census","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-054","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.4","title":"cancensus 0.5.4","text":"CRAN release: 2022-11-07 added ability query census datasets year added convenience function creating unique names within given selection regions list_census_regions() added check context menu install sf package user requests spatial data required package installed opposed erroring . improved checking correct spatial formats requested preparing ‘sp’ spatial format usage deprecation future versions","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-053","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.3","title":"cancensus 0.5.3","text":"CRAN release: 2022-08-25 Added check context menu install sf package user requests spatial data required package installed opposed stopping error. fixes bug local data recall check","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-052","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.2","title":"cancensus 0.5.2","text":"CRAN release: 2022-08-19 resolved broken relocated links picked CRAN pretesting","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-051","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.1","title":"cancensus 0.5.1","text":"Added functionality users detect remove locally cached data recalled Statistics Canada added check initial get_census call produces warning locally cached data recalled Statistics Canada added option retrieve higher-resolution geometries get_census","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-5-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.5.1","text":"renamed get/set cache/api_key functions avoid name conflicts related packages","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-050","dir":"Changelog","previous_headings":"","what":"cancensus 0.5.0","title":"cancensus 0.5.0","text":"CRAN release: 2022-02-08","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-5-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.5.0","text":"Added cache metadata overview information cached data allow selective removing cached data","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-043","dir":"Changelog","previous_headings":"","what":"cancensus 0.4.3","title":"cancensus 0.4.3","text":"CRAN release: 2021-06-08","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-4-3","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.4.3","text":"Fixed problem sf compatibility agr attribute Fixed problem querying geographic data multiple geographic levels","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-042","dir":"Changelog","previous_headings":"","what":"cancensus 0.4.2","title":"cancensus 0.4.2","text":"CRAN release: 2021-02-09","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-4-2","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.4.2","text":"Fixed minor problem cache path wasn’t always picked Added optional argument keep_parent calling child_census_vectors() retains input parent variable list result. found many cases user follow call child_census_vectors() bind_rows(...) , save step.","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-041","dir":"Changelog","previous_headings":"","what":"cancensus 0.4.1","title":"cancensus 0.4.1","text":"CRAN release: 2021-01-27","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-4-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.4.1","text":"Fixed minor problem API key wasn’t always picked set correctly environment variable. Fixed warning t column present downloaded data.","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-040","dir":"Changelog","previous_headings":"","what":"cancensus 0.4.0","title":"cancensus 0.4.0","text":"CRAN release: 2021-01-16","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-4-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.4.0","text":"Added get_intersecting_geometry function take advantage new Censusmapper API endpoint. Check new vignette detailing use .","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-4-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.4.0","text":"Slightly reworked configure store user API keys cache locations. New functions set_api_key, set_cache_path, show_api_key, show_cache_path added. Fixes various warnings due recent changes tibble dplyr.","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-032","dir":"Changelog","previous_headings":"","what":"cancensus 0.3.2","title":"cancensus 0.3.2","text":"CRAN release: 2020-07-16","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-3-2","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.3.2","text":"Support 1996 census Public availability dissemination block area level data","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-3-2","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.3.2","text":"Fixes bug find_census_vectors()","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-031","dir":"Changelog","previous_headings":"","what":"cancensus 0.3.1","title":"cancensus 0.3.1","text":"CRAN release: 2020-06-23","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-3-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.3.1","text":"CRAN check issues","code":""},{"path":[]},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-3-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.3.0","text":"Fully redesigned variable search using find_census_vectors() deprecation `search_census_vectors(). See Data discovery: resources finding available relevant data vignette additional information. Census Agglomerations defined geographies Census tracts separated CMAs calling list_census_regions() Additional metadata catalogue information attribution returned calling list_census_datasets() New functions explore_census_regions explore_census_vectors open browser page towards interactive discovery selection tools Censusmapper website New function attribution_for_dataset provides accurate attribution information citation visualizations given dataset. Additional datasets: T1FF taxfiler data dwelling type crosstabs, made available CMHC. info, see new vignettes datasets: Additional datasets: Structural type dwelling document type, Additional datasets: Annual T1FF taxfiler data. get_census_geometry() now hard-deprecated stop program flow. Use get_census() instead.","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-3-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.3.0","text":"Updated internal usage dependent packages avoid deprecated functions warnings Additional minor fixes efficiency improvements","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-022","dir":"Changelog","previous_headings":"","what":"cancensus 0.2.2","title":"cancensus 0.2.2","text":"CRAN release: 2020-05-12","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-2-2","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.2.2","text":"efficient conversion sp sf spatial objects Fixes issue occasionally reported reading large GeoJSON objects noted https://github.com/mountainMath/cancensus/issues/138 Adds geojsonsf dependency Replaces soft deprecated dplyr functions fix https://github.com/mountainMath/cancensus/issues/137","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-021","dir":"Changelog","previous_headings":"","what":"cancensus 0.2.1","title":"cancensus 0.2.1","text":"CRAN release: 2020-03-05","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-2-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.2.1","text":"Minor documentation improvements Allow search vector identifier Allow child parent vector retrieval vector identifier Add functionality future tax data releases","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-020","dir":"Changelog","previous_headings":"","what":"cancensus 0.2.0","title":"cancensus 0.2.0","text":"CRAN release: 2019-07-28","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.2.0","text":"Added max_leaves_option search_census_vectors function. Adds functionality set maximum depth child census vectors, .e. max_level=NA additional parameter. e.g. max_level=1 get direct children grandchildren. Resolved issues mislabeled CD UID CSD level data Improve reliability character/numeric alignments geographic UIDS get_census_geography now soft deprecated rolled standard get_census parameters","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.2.0","text":"Minor documentation improvements Soften dependency readr package Allow search internal CensusMapper variables","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-018","dir":"Changelog","previous_headings":"","what":"cancensus 0.1.8","title":"cancensus 0.1.8","text":"CRAN release: 2018-11-20","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-1-8","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.1.8","text":"Remove dependency development versions sf ggplot2 packages Add feature allowing named vector retrieval","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-1-8","dir":"Changelog","previous_headings":"","what":"Minor Changes","title":"cancensus 0.1.8","text":"Vignette updates Calls retrieve geography now return geographic hierarchy information well Small tweaks make easier 2011-2016 intra-census comparisons","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"bug-fixes-0-1-8","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"cancensus 0.1.8","text":"Fix labels geo format sf Remove unnecessary code geographic hierarchies","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-017","dir":"Changelog","previous_headings":"","what":"cancensus 0.1.7","title":"cancensus 0.1.7","text":"CRAN release: 2018-02-04","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-1-7","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.1.7","text":"Set default caching tempdir() Encourage users set local persistent caching using options(cancensus.cache_path = 'XXX')","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"cancensus-016","dir":"Changelog","previous_headings":"","what":"cancensus 0.1.6","title":"cancensus 0.1.6","text":"CRAN release: 2018-01-24","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-1-6","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.1.6","text":"First released CRAN","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-1-6","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.1.6","text":"Ensured data frames sf-class data frames option sf selected spatial data.","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"bug-fixes-0-1-6","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"cancensus 0.1.6","text":"Fixed bug read.csv incorrectly loading text data readr::read_csv available","code":""},{"path":[]},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-1-5","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.1.5","text":"Added NEWS.md file track changes package. Added pkgdown documentation New vignettes - cancensus Making maps cancensus","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-1-5","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.1.5","text":"Default behaviour list_census_vectors() changed quiet = TRUE","code":""},{"path":[]},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.1.0","text":"Added vector geography search discovery capabilities Improved performance Error API issue messaging","code":""},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"minor-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"cancensus 0.1.0","text":"Reduced package dependencies","code":""},{"path":[]},{"path":"https://mountainmath.github.io/cancensus/news/index.html","id":"major-changes-0-0-1","dir":"Changelog","previous_headings":"","what":"Major changes","title":"cancensus 0.0.1","text":"Initial release","code":""}]
